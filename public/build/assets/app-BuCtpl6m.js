var Ra="2.1.13";const Tt="[data-trix-attachment]",Ar={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Ee={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return es(n.parentNode)===Ee[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return es(n.parentNode)===Ee[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},es=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},ts=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),yn=ts&&parseInt(ts[1]);var Si={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:yn&&yn>12,samsungAndroid:yn&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},eo={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},V={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a captionâ€¦",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URLâ€¦",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const ka=[V.bytes,V.KB,V.MB,V.GB,V.TB,V.PB];var to={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(V.bytes);case 1:return"1 ".concat(V.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const t=Math.floor(Math.log(n)/Math.log(e)),i=(n/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(ka[t])}}};const en="\uFEFF",pt="Â ",io=function(n){for(const e in n){const t=n[e];this[e]=t}return this},Tr=document.documentElement,Da=Tr.matches,se=function(n){let{onElement:e,matchingSelector:t,withCallback:i,inPhase:r,preventDefault:s,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=e||Tr,c=t,l=r==="capturing",d=function(f){o!=null&&--o==0&&d.destroy();const v=gt(f.target,{matchingSelector:c});v!=null&&(i==null||i.call(v,f,v),s&&f.preventDefault())};return d.destroy=()=>a.removeEventListener(n,d,l),a.addEventListener(n,d,l),d},ui=function(n){let{onElement:e,bubbles:t,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=e??Tr;t=t!==!1,i=i!==!1;const o=document.createEvent("Events");return o.initEvent(n,t,i),r!=null&&io.call(o,r),s.dispatchEvent(o)},no=function(n,e){if((n==null?void 0:n.nodeType)===1)return Da.call(n,e)},gt=function(n){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(e==null)return n;if(n.closest&&t==null)return n.closest(e);for(;n&&n!==t;){if(no(n,e))return n;n=n.parentNode}}},Cr=n=>document.activeElement!==n&&Et(n,document.activeElement),Et=function(n,e){if(n&&e)for(;e;){if(e===n)return!0;e=e.parentNode}},wn=function(n){var e;if((e=n)===null||e===void 0||!e.parentNode)return;let t=0;for(n=n.previousSibling;n;)t++,n=n.previousSibling;return t},bt=n=>{var e;return n==null||(e=n.parentNode)===null||e===void 0?void 0:e.removeChild(n)},Vi=function(n){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,r,t??null,i===!0)},Se=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},G=function(n){let e,t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const r=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(e in i.attributes)t=i.attributes[e],r.setAttribute(e,t);if(i.style)for(e in i.style)t=i.style[e],r.style[e]=t;if(i.data)for(e in i.data)t=i.data[e],r.dataset[e]=t;return i.className&&i.className.split(" ").forEach(s=>{r.classList.add(s)}),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(s=>{r.appendChild(s)}),r};let Qt;const di=function(){if(Qt!=null)return Qt;Qt=[];for(const n in Ee){const e=Ee[n];e.tagName&&Qt.push(e.tagName)}return Qt},xn=n=>Wt(n==null?void 0:n.firstChild),is=function(n){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?Wt(n):Wt(n)||!Wt(n.firstChild)&&function(t){return di().includes(Se(t))&&!di().includes(Se(t.firstChild))}(n)},Wt=n=>Pa(n)&&(n==null?void 0:n.data)==="block",Pa=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,$t=function(n){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return hi(n)?n.data===en?!e||n.parentNode.dataset.trixCursorTarget===e:void 0:$t(n.firstChild)},Ct=n=>no(n,Tt),ro=n=>hi(n)&&(n==null?void 0:n.data)==="",hi=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,Lr={level2Enabled:!0,getLevel(){return this.level2Enabled&&Si.supportsInputEvents?2:0},pickFiles(n){const e=G("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{n(e.files),bt(e)}),bt(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var Fi={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Rt={bold:{tagName:"strong",inheritable:!0,parser(n){const e=window.getComputedStyle(n);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const e="a:not(".concat(Tt,")"),t=n.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},so={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(V.bold,'" tabindex="-1">').concat(V.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(V.italic,'" tabindex="-1">').concat(V.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(V.strike,'" tabindex="-1">').concat(V.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(V.link,'" tabindex="-1">').concat(V.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(V.heading1,'" tabindex="-1">').concat(V.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(V.quote,'" tabindex="-1">').concat(V.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(V.code,'" tabindex="-1">').concat(V.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(V.bullets,'" tabindex="-1">').concat(V.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(V.numbers,'" tabindex="-1">').concat(V.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(V.outdent,'" tabindex="-1">').concat(V.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(V.indent,'" tabindex="-1">').concat(V.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(V.attachFiles,'" tabindex="-1">').concat(V.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(V.undo,'" tabindex="-1">').concat(V.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(V.redo,'" tabindex="-1">').concat(V.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(V.urlPlaceholder,'" aria-label="').concat(V.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(V.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(V.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const tr={interval:5e3};var Ei=Object.freeze({__proto__:null,attachments:Ar,blockAttributes:Ee,browser:Si,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:eo,fileSize:to,input:Lr,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:V,parser:Fi,textAttributes:Rt,toolbar:so,undo:tr});class ue{static proxyMethod(e){const{name:t,toMethod:i,toProperty:r,optional:s}=Oa(e);this.prototype[t]=function(){let o,a;var c,l;return i?a=s?(c=this[i])===null||c===void 0?void 0:c.call(this):this[i]():r&&(a=this[r]),s?(o=(l=a)===null||l===void 0?void 0:l[t],o?ns.call(o,a,arguments):void 0):(o=a[t],ns.call(o,a,arguments))}}}const Oa=function(n){const e=n.match(Ia);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(n));const t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:ns}=Function.prototype,Ia=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Sn,En,An;class vi extends ue{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,ir(e))}static fromCodepoints(e){return new this(nr(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return nr(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return ir(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Na=((Sn=Array.from)===null||Sn===void 0?void 0:Sn.call(Array,"ðŸ‘¼").length)===1,Ba=((En=" ".codePointAt)===null||En===void 0?void 0:En.call(" ",0))!=null,Fa=((An=String.fromCodePoint)===null||An===void 0?void 0:An.call(String,32,128124))===" ðŸ‘¼";let ir,nr;ir=Na&&Ba?n=>Array.from(n).map(e=>e.codePointAt(0)):function(n){const e=[];let t=0;const{length:i}=n;for(;t<i;){let r=n.charCodeAt(t++);if(55296<=r&&r<=56319&&t<i){const s=n.charCodeAt(t++);(64512&s)==56320?r=((1023&r)<<10)+(1023&s)+65536:t--}e.push(r)}return e},nr=Fa?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const e=[];return Array.from(n).forEach(t=>{let i="";t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(i+String.fromCharCode(t))}),e})().join("")};let za=0;class It extends ue{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++za}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],t=this.contentsForInspection()||{};for(const i in t){const r=t[i];e.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return vi.box(this)}getCacheKey(){return this.id.toString()}}const kt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},Mr=function(n){const e=n.slice(0);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e.splice(...i),e},_a=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Ha=function(){const n=G("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=G("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=G("form");t.appendChild(n),t.appendChild(e);const i=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),r=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(s){return e.value=s,new FormData(t).get(e.dirName)}:r?function(s){return n.value=s,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const o=s.trim().charAt(0);return _a.test(o)?"rtl":"ltr"}}();let Tn=null,Cn=null,Ln=null,Pi=null;const rr=()=>(Tn||(Tn=Wa().concat(ja())),Tn),ae=n=>Ee[n],ja=()=>(Cn||(Cn=Object.keys(Ee)),Cn),sr=n=>Rt[n],Wa=()=>(Ln||(Ln=Object.keys(Rt)),Ln),oo=function(n,e){$a(n).textContent=e.replace(/%t/g,n)},$a=function(n){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",n.toLowerCase());const t=Va();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},Va=function(){const n=rs("trix-csp-nonce")||rs("csp-nonce");if(n){const{nonce:e,content:t}=n;return e==""?t:e}},rs=n=>document.head.querySelector("meta[name=".concat(n,"]")),ss={"application/x-trix-feature-detection":"test"},ao=function(n){const e=n.getData("text/plain"),t=n.getData("text/html");if(!e||!t)return e==null?void 0:e.length;{const{body:i}=new DOMParser().parseFromString(t,"text/html");if(i.textContent===e)return!i.querySelector("*")}},lo=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,Rr=n=>setTimeout(n,1),co=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const t in n){const i=n[t];e[t]=i}return e},Ut=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0},ee=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[os(n[0]),os(n[1]!=null?n[1]:n[0])]},at=function(n){if(n==null)return;const[e,t]=ee(n);return or(e,t)},qi=function(n,e){if(n==null||e==null)return;const[t,i]=ee(n),[r,s]=ee(e);return or(t,r)&&or(i,s)},os=function(n){return typeof n=="number"?n:co(n)},or=function(n,e){return typeof n=="number"?n===e:Ut(n,e)};class uo extends ue{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Dt=new uo,ho=function(){const n=window.getSelection();if(n.rangeCount>0)return n},fi=function(){var n;const e=(n=ho())===null||n===void 0?void 0:n.getRangeAt(0);if(e&&!qa(e))return e},fo=function(n){const e=window.getSelection();return e.removeAllRanges(),e.addRange(n),Dt.update()},qa=n=>as(n.startContainer)||as(n.endContainer),as=n=>!Object.getPrototypeOf(n),ai=n=>n.replace(new RegExp("".concat(en),"g"),"").replace(new RegExp("".concat(pt),"g")," "),kr=new RegExp("[^\\S".concat(pt,"]")),Dr=n=>n.replace(new RegExp("".concat(kr.source),"g")," ").replace(/\ {2,}/g," "),ls=function(n,e){if(n.isEqualTo(e))return["",""];const t=Mn(n,e),{length:i}=t.utf16String;let r;if(i){const{offset:s}=t,o=n.codepoints.slice(0,s).concat(n.codepoints.slice(s+i));r=Mn(e,vi.fromCodepoints(o))}else r=Mn(e,n);return[t.utf16String.toString(),r.utf16String.toString()]},Mn=function(n,e){let t=0,i=n.length,r=e.length;for(;t<i&&n.charAt(t).isEqualTo(e.charAt(t));)t++;for(;i>t+1&&n.charAt(i-1).isEqualTo(e.charAt(r-1));)i--,r--;return{utf16String:n.slice(t,i),offset:t}};class Pe extends It{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=ei(e[0]),i=t.getKeys();return e.slice(1).forEach(r=>{i=t.getKeysCommonToHash(ei(r)),t=t.slice(i)}),t}static box(e){return ei(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=zi(e)}add(e,t){return this.merge(Ua(e,t))}remove(e){return new Pe(zi(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Pe(Ga(this.values,Xa(e)))}slice(e){const t={};return Array.from(e).forEach(i=>{this.has(i)&&(t[i]=this.values[i])}),new Pe(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=ei(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return kt(this.toArray(),ei(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const t in this.values){const i=this.values[t];e.push(e.push(t,i))}this.array=e.slice(0)}return this.array}toObject(){return zi(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Ua=function(n,e){const t={};return t[n]=e,t},Ga=function(n,e){const t=zi(n);for(const i in e){const r=e[i];t[i]=r}return t},zi=function(n,e){const t={};return Object.keys(n).sort().forEach(i=>{i!==e&&(t[i]=n[i])}),t},ei=function(n){return n instanceof Pe?n:new Pe(n)},Xa=function(n){return n instanceof Pe?n.values:n};class Pr{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);const s=[];return Array.from(t).forEach(o=>{var a;if(e){var c,l,d;if((c=o.canBeGrouped)!==null&&c!==void 0&&c.call(o,i)&&(l=(d=e[e.length-1]).canBeGroupedWith)!==null&&l!==void 0&&l.call(d,o,i))return void e.push(o);s.push(new this(e,{depth:i,asTree:r})),e=null}(a=o.canBeGrouped)!==null&&a!==void 0&&a.call(o,i)?e=[o]:s.push(o)}),e&&s.push(new this(e,{depth:i,asTree:r})),s}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=e,i&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}}class Ya extends ue{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{const i=JSON.stringify(t);this.objects[i]==null&&(this.objects[i]=t)})}find(e){const t=JSON.stringify(e);return this.objects[t]}}class Ka{constructor(e){this.reset(e)}add(e){const t=cs(e);this.elements[t]=e}remove(e){const t=cs(e),i=this.elements[t];if(i)return delete this.elements[t],i}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}}const cs=n=>n.dataset.trixStoreKey;class Ui extends ue{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?e(r):t(r)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Ui.proxyMethod("getPromise().then"),Ui.proxyMethod("getPromise().catch");class Nt extends ue{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,i){let r=this.getCachedViewForObject(t);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,t)),r}createChildView(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof Pr&&(i.viewClass=e,e=Ja);const r=new e(t,i);return this.recordChildView(r)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const t=e==null?void 0:e.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(const t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){const i=this.getViewCache();i&&(i[t.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const t=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in e)t.includes(i)||delete e[i]}}}class Ja extends Nt{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(i=>{e.appendChild(i)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:po,setPrototypeOf:us,isFrozen:Za,getPrototypeOf:Qa,getOwnPropertyDescriptor:el}=Object;let{freeze:Te,seal:_e,create:mo}=Object,{apply:ar,construct:lr}=typeof Reflect<"u"&&Reflect;Te||(Te=function(n){return n}),_e||(_e=function(n){return n}),ar||(ar=function(n,e,t){return n.apply(e,t)}),lr||(lr=function(n,e){return new n(...e)});const Oi=Ie(Array.prototype.forEach),ds=Ie(Array.prototype.pop),ti=Ie(Array.prototype.push),_i=Ie(String.prototype.toLowerCase),Rn=Ie(String.prototype.toString),hs=Ie(String.prototype.match),ii=Ie(String.prototype.replace),tl=Ie(String.prototype.indexOf),il=Ie(String.prototype.trim),We=Ie(Object.prototype.hasOwnProperty),xe=Ie(RegExp.prototype.test),ni=(fs=TypeError,function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return lr(fs,e)});var fs;function Ie(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return ar(n,e,i)}}function K(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_i;us&&us(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(Za(e)||(e[i]=s),r=s)}n[r]=!0}return n}function nl(n){for(let e=0;e<n.length;e++)We(n,e)||(n[e]=null);return n}function xt(n){const e=mo(null);for(const[t,i]of po(n))We(n,t)&&(Array.isArray(i)?e[t]=nl(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=xt(i):e[t]=i);return e}function ri(n,e){for(;n!==null;){const t=el(n,e);if(t){if(t.get)return Ie(t.get);if(typeof t.value=="function")return Ie(t.value)}n=Qa(n)}return function(){return null}}const ps=Te(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kn=Te(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dn=Te(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rl=Te(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pn=Te(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sl=Te(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ms=Te(["#text"]),gs=Te(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),On=Te(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bs=Te(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ii=Te(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ol=_e(/\{\{[\w\W]*|[\w\W]*\}\}/gm),al=_e(/<%[\w\W]*|[\w\W]*%>/gm),ll=_e(/\$\{[\w\W]*}/gm),cl=_e(/^data-[\-\w.\u00B7-\uFFFF]+$/),ul=_e(/^aria-[\-\w]+$/),go=_e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dl=_e(/^(?:\w+script|data):/i),hl=_e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bo=_e(/^html$/i),fl=_e(/^[a-z][.\w]*(-[.\w]+)+$/i);var vs=Object.freeze({__proto__:null,ARIA_ATTR:ul,ATTR_WHITESPACE:hl,CUSTOM_ELEMENT:fl,DATA_ATTR:cl,DOCTYPE_NAME:bo,ERB_EXPR:al,IS_ALLOWED_URI:go,IS_SCRIPT_OR_DATA:dl,MUSTACHE_EXPR:ol,TMPLIT_EXPR:ll});const pl=1,ml=3,gl=7,bl=8,vl=9,yl=function(){return typeof window>"u"?null:window};var Gi=function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yl();const t=x=>n(x);if(t.version="3.2.3",t.removed=[],!e||!e.document||e.document.nodeType!==vl)return t.isSupported=!1,t;let{document:i}=e;const r=i,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:c,Element:l,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:v,DOMParser:g,trustedTypes:u}=e,h=l.prototype,p=ri(h,"cloneNode"),y=ri(h,"remove"),b=ri(h,"nextSibling"),m=ri(h,"childNodes"),w=ri(h,"parentNode");if(typeof a=="function"){const x=i.createElement("template");x.content&&x.content.ownerDocument&&(i=x.content.ownerDocument)}let S,D="";const{implementation:R,createNodeIterator:O,createDocumentFragment:L,getElementsByTagName:T}=i,{importNode:N}=r;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};t.isSupported=typeof po=="function"&&typeof w=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:k,ERB_EXPR:I,TMPLIT_EXPR:B,DATA_ATTR:z,ARIA_ATTR:E,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:H,CUSTOM_ELEMENT:$}=vs;let{IS_ALLOWED_URI:te}=vs,X=null;const Me=K({},[...ps,...kn,...Dn,...Pn,...ms]);let re=null;const F=K({},[...gs,...On,...bs,...Ii]);let P=Object.seal(mo(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_=null,U=null,de=!0,Ne=!0,He=!1,Be=!0,ye=!1,ce=!0,he=!1,Je=!1,lt=!1,Re=!1,je=!1,Ze=!1,vt=!0,zt=!1,yt=!0,Qe=!1,qe={},Ue=null;const et=K({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Jt=null;const ct=K({},["audio","video","img","source","image","track"]);let pn=null;const jr=K({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Li="http://www.w3.org/1998/Math/MathML",Mi="http://www.w3.org/2000/svg",tt="http://www.w3.org/1999/xhtml";let _t=tt,mn=!1,gn=null;const Aa=K({},[Li,Mi,tt],Rn);let Ri=K({},["mi","mo","mn","ms","mtext"]),ki=K({},["annotation-xml"]);const Ta=K({},["title","style","font","a","script"]);let Zt=null;const Ca=["application/xhtml+xml","text/html"];let pe=null,Ht=null;const La=i.createElement("form"),Wr=function(x){return x instanceof RegExp||x instanceof Function},bn=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Ht||Ht!==x){if(x&&typeof x=="object"||(x={}),x=xt(x),Zt=Ca.indexOf(x.PARSER_MEDIA_TYPE)===-1?"text/html":x.PARSER_MEDIA_TYPE,pe=Zt==="application/xhtml+xml"?Rn:_i,X=We(x,"ALLOWED_TAGS")?K({},x.ALLOWED_TAGS,pe):Me,re=We(x,"ALLOWED_ATTR")?K({},x.ALLOWED_ATTR,pe):F,gn=We(x,"ALLOWED_NAMESPACES")?K({},x.ALLOWED_NAMESPACES,Rn):Aa,pn=We(x,"ADD_URI_SAFE_ATTR")?K(xt(jr),x.ADD_URI_SAFE_ATTR,pe):jr,Jt=We(x,"ADD_DATA_URI_TAGS")?K(xt(ct),x.ADD_DATA_URI_TAGS,pe):ct,Ue=We(x,"FORBID_CONTENTS")?K({},x.FORBID_CONTENTS,pe):et,_=We(x,"FORBID_TAGS")?K({},x.FORBID_TAGS,pe):{},U=We(x,"FORBID_ATTR")?K({},x.FORBID_ATTR,pe):{},qe=!!We(x,"USE_PROFILES")&&x.USE_PROFILES,de=x.ALLOW_ARIA_ATTR!==!1,Ne=x.ALLOW_DATA_ATTR!==!1,He=x.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ye=x.SAFE_FOR_TEMPLATES||!1,ce=x.SAFE_FOR_XML!==!1,he=x.WHOLE_DOCUMENT||!1,Re=x.RETURN_DOM||!1,je=x.RETURN_DOM_FRAGMENT||!1,Ze=x.RETURN_TRUSTED_TYPE||!1,lt=x.FORCE_BODY||!1,vt=x.SANITIZE_DOM!==!1,zt=x.SANITIZE_NAMED_PROPS||!1,yt=x.KEEP_CONTENT!==!1,Qe=x.IN_PLACE||!1,te=x.ALLOWED_URI_REGEXP||go,_t=x.NAMESPACE||tt,Ri=x.MATHML_TEXT_INTEGRATION_POINTS||Ri,ki=x.HTML_INTEGRATION_POINTS||ki,P=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&Wr(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&Wr(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ye&&(Ne=!1),je&&(Re=!0),qe&&(X=K({},ms),re=[],qe.html===!0&&(K(X,ps),K(re,gs)),qe.svg===!0&&(K(X,kn),K(re,On),K(re,Ii)),qe.svgFilters===!0&&(K(X,Dn),K(re,On),K(re,Ii)),qe.mathMl===!0&&(K(X,Pn),K(re,bs),K(re,Ii))),x.ADD_TAGS&&(X===Me&&(X=xt(X)),K(X,x.ADD_TAGS,pe)),x.ADD_ATTR&&(re===F&&(re=xt(re)),K(re,x.ADD_ATTR,pe)),x.ADD_URI_SAFE_ATTR&&K(pn,x.ADD_URI_SAFE_ATTR,pe),x.FORBID_CONTENTS&&(Ue===et&&(Ue=xt(Ue)),K(Ue,x.FORBID_CONTENTS,pe)),yt&&(X["#text"]=!0),he&&K(X,["html","head","body"]),X.table&&(K(X,["tbody"]),delete _.tbody),x.TRUSTED_TYPES_POLICY){if(typeof x.TRUSTED_TYPES_POLICY.createHTML!="function")throw ni('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof x.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ni('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=x.TRUSTED_TYPES_POLICY,D=S.createHTML("")}else S===void 0&&(S=function(W,j){if(typeof W!="object"||typeof W.createPolicy!="function")return null;let Z=null;const Q="data-tt-policy-suffix";j&&j.hasAttribute(Q)&&(Z=j.getAttribute(Q));const Y="dompurify"+(Z?"#"+Z:"");try{return W.createPolicy(Y,{createHTML:fe=>fe,createScriptURL:fe=>fe})}catch{return console.warn("TrustedTypes policy "+Y+" could not be created."),null}}(u,s)),S!==null&&typeof D=="string"&&(D=S.createHTML(""));Te&&Te(x),Ht=x}},$r=K({},[...kn,...Dn,...rl]),Vr=K({},[...Pn,...sl]),Ge=function(x){ti(t.removed,{element:x});try{w(x).removeChild(x)}catch{y(x)}},Di=function(x,W){try{ti(t.removed,{attribute:W.getAttributeNode(x),from:W})}catch{ti(t.removed,{attribute:null,from:W})}if(W.removeAttribute(x),x==="is")if(Re||je)try{Ge(W)}catch{}else try{W.setAttribute(x,"")}catch{}},qr=function(x){let W=null,j=null;if(lt)x="<remove></remove>"+x;else{const Y=hs(x,/^[\r\n\t ]+/);j=Y&&Y[0]}Zt==="application/xhtml+xml"&&_t===tt&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");const Z=S?S.createHTML(x):x;if(_t===tt)try{W=new g().parseFromString(Z,Zt)}catch{}if(!W||!W.documentElement){W=R.createDocument(_t,"template",null);try{W.documentElement.innerHTML=mn?D:Z}catch{}}const Q=W.body||W.documentElement;return x&&j&&Q.insertBefore(i.createTextNode(j),Q.childNodes[0]||null),_t===tt?T.call(W,he?"html":"body")[0]:he?W.documentElement:Q},Ur=function(x){return O.call(x.ownerDocument||x,x,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},vn=function(x){return x instanceof v&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof f)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},Gr=function(x){return typeof c=="function"&&x instanceof c};function it(x,W,j){Oi(x,Z=>{Z.call(t,W,j,Ht)})}const Xr=function(x){let W=null;if(it(C.beforeSanitizeElements,x,null),vn(x))return Ge(x),!0;const j=pe(x.nodeName);if(it(C.uponSanitizeElement,x,{tagName:j,allowedTags:X}),x.hasChildNodes()&&!Gr(x.firstElementChild)&&xe(/<[/\w]/g,x.innerHTML)&&xe(/<[/\w]/g,x.textContent)||x.nodeType===gl||ce&&x.nodeType===bl&&xe(/<[/\w]/g,x.data))return Ge(x),!0;if(!X[j]||_[j]){if(!_[j]&&Kr(j)&&(P.tagNameCheck instanceof RegExp&&xe(P.tagNameCheck,j)||P.tagNameCheck instanceof Function&&P.tagNameCheck(j)))return!1;if(yt&&!Ue[j]){const Z=w(x)||x.parentNode,Q=m(x)||x.childNodes;if(Q&&Z)for(let Y=Q.length-1;Y>=0;--Y){const fe=p(Q[Y],!0);fe.__removalCount=(x.__removalCount||0)+1,Z.insertBefore(fe,b(x))}}return Ge(x),!0}return x instanceof l&&!function(Z){let Q=w(Z);Q&&Q.tagName||(Q={namespaceURI:_t,tagName:"template"});const Y=_i(Z.tagName),fe=_i(Q.tagName);return!!gn[Z.namespaceURI]&&(Z.namespaceURI===Mi?Q.namespaceURI===tt?Y==="svg":Q.namespaceURI===Li?Y==="svg"&&(fe==="annotation-xml"||Ri[fe]):!!$r[Y]:Z.namespaceURI===Li?Q.namespaceURI===tt?Y==="math":Q.namespaceURI===Mi?Y==="math"&&ki[fe]:!!Vr[Y]:Z.namespaceURI===tt?!(Q.namespaceURI===Mi&&!ki[fe])&&!(Q.namespaceURI===Li&&!Ri[fe])&&!Vr[Y]&&(Ta[Y]||!$r[Y]):!(Zt!=="application/xhtml+xml"||!gn[Z.namespaceURI]))}(x)?(Ge(x),!0):j!=="noscript"&&j!=="noembed"&&j!=="noframes"||!xe(/<\/no(script|embed|frames)/i,x.innerHTML)?(ye&&x.nodeType===ml&&(W=x.textContent,Oi([k,I,B],Z=>{W=ii(W,Z," ")}),x.textContent!==W&&(ti(t.removed,{element:x.cloneNode()}),x.textContent=W)),it(C.afterSanitizeElements,x,null),!1):(Ge(x),!0)},Yr=function(x,W,j){if(vt&&(W==="id"||W==="name")&&(j in i||j in La))return!1;if(!(Ne&&!U[W]&&xe(z,W))){if(!(de&&xe(E,W))){if(!re[W]||U[W]){if(!(Kr(x)&&(P.tagNameCheck instanceof RegExp&&xe(P.tagNameCheck,x)||P.tagNameCheck instanceof Function&&P.tagNameCheck(x))&&(P.attributeNameCheck instanceof RegExp&&xe(P.attributeNameCheck,W)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(W))||W==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&xe(P.tagNameCheck,j)||P.tagNameCheck instanceof Function&&P.tagNameCheck(j))))return!1}else if(!pn[W]){if(!xe(te,ii(j,H,""))){if((W!=="src"&&W!=="xlink:href"&&W!=="href"||x==="script"||tl(j,"data:")!==0||!Jt[x])&&!(He&&!xe(A,ii(j,H,"")))){if(j)return!1}}}}}return!0},Kr=function(x){return x!=="annotation-xml"&&hs(x,$)},Jr=function(x){it(C.beforeSanitizeAttributes,x,null);const{attributes:W}=x;if(!W||vn(x))return;const j={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let Z=W.length;for(;Z--;){const Q=W[Z],{name:Y,namespaceURI:fe,value:nt}=Q,Xe=pe(Y);let we=Y==="value"?nt:il(nt);if(j.attrName=Xe,j.attrValue=we,j.keepAttr=!0,j.forceKeepAttr=void 0,it(C.uponSanitizeAttribute,x,j),we=j.attrValue,!zt||Xe!=="id"&&Xe!=="name"||(Di(Y,x),we="user-content-"+we),ce&&xe(/((--!?|])>)|<\/(style|title)/i,we)){Di(Y,x);continue}if(j.forceKeepAttr||(Di(Y,x),!j.keepAttr))continue;if(!Be&&xe(/\/>/i,we)){Di(Y,x);continue}ye&&Oi([k,I,B],Qr=>{we=ii(we,Qr," ")});const Zr=pe(x.nodeName);if(Yr(Zr,Xe,we)){if(S&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!fe)switch(u.getAttributeType(Zr,Xe)){case"TrustedHTML":we=S.createHTML(we);break;case"TrustedScriptURL":we=S.createScriptURL(we)}try{fe?x.setAttributeNS(fe,Y,we):x.setAttribute(Y,we),vn(x)?Ge(x):ds(t.removed)}catch{}}}it(C.afterSanitizeAttributes,x,null)},Ma=function x(W){let j=null;const Z=Ur(W);for(it(C.beforeSanitizeShadowDOM,W,null);j=Z.nextNode();)it(C.uponSanitizeShadowNode,j,null),Xr(j),Jr(j),j.content instanceof o&&x(j.content);it(C.afterSanitizeShadowDOM,W,null)};return t.sanitize=function(x){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,Z=null,Q=null,Y=null;if(mn=!x,mn&&(x="<!-->"),typeof x!="string"&&!Gr(x)){if(typeof x.toString!="function")throw ni("toString is not a function");if(typeof(x=x.toString())!="string")throw ni("dirty is not a string, aborting")}if(!t.isSupported)return x;if(Je||bn(W),t.removed=[],typeof x=="string"&&(Qe=!1),Qe){if(x.nodeName){const Xe=pe(x.nodeName);if(!X[Xe]||_[Xe])throw ni("root node is forbidden and cannot be sanitized in-place")}}else if(x instanceof c)j=qr("<!---->"),Z=j.ownerDocument.importNode(x,!0),Z.nodeType===pl&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?j=Z:j.appendChild(Z);else{if(!Re&&!ye&&!he&&x.indexOf("<")===-1)return S&&Ze?S.createHTML(x):x;if(j=qr(x),!j)return Re?null:Ze?D:""}j&&lt&&Ge(j.firstChild);const fe=Ur(Qe?x:j);for(;Q=fe.nextNode();)Xr(Q),Jr(Q),Q.content instanceof o&&Ma(Q.content);if(Qe)return x;if(Re){if(je)for(Y=L.call(j.ownerDocument);j.firstChild;)Y.appendChild(j.firstChild);else Y=j;return(re.shadowroot||re.shadowrootmode)&&(Y=N.call(r,Y,!0)),Y}let nt=he?j.outerHTML:j.innerHTML;return he&&X["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&xe(bo,j.ownerDocument.doctype.name)&&(nt="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+nt),ye&&Oi([k,I,B],Xe=>{nt=ii(nt,Xe," ")}),S&&Ze?S.createHTML(nt):nt},t.setConfig=function(){bn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Je=!0},t.clearConfig=function(){Ht=null,Je=!1},t.isValidAttribute=function(x,W,j){Ht||bn({});const Z=pe(x),Q=pe(W);return Yr(Z,Q,j)},t.addHook=function(x,W){typeof W=="function"&&ti(C[x],W)},t.removeHook=function(x){return ds(C[x])},t.removeHooks=function(x){C[x]=[]},t.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},t}();Gi.addHook("uponSanitizeAttribute",function(n,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const wl="style href src width height language class".split(" "),xl="javascript:".split(" "),Sl="script iframe form noscript".split(" ");class tn extends ue{static setHTML(e,t){const i=new this(t).sanitize(),r=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=r}static sanitize(e,t){const i=new this(e,t);return i.sanitize(),i}constructor(e){let{allowedAttributes:t,forbiddenProtocols:i,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||wl,this.forbiddenProtocols=i||xl,this.forbiddenElements=r||Sl,this.body=El(e)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting(),Gi.setConfig(eo),this.body=Gi.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Vi(this.body),t=[];for(;e.nextNode();){const i=e.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?t.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:t.push(i)}}return t.forEach(i=>bt(i)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:i}=t;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||e.removeAttribute(i)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const t=e.previousElementSibling;t&&Se(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(Se(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Ct(e)}}const El=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=n,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},{css:ut}=Ei;class Or extends Nt{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const t=e=G({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(e=G({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?tn.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(r=>{e.appendChild(r)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=G({tagName:"progress",attributes:{class:ut.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[ys("left"),t,ys("right")]}createCaptionElement(){const e=G({tagName:"figcaption",className:ut.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(ut.attachmentCaption,"--edited")),e.textContent=t;else{let i,r;const s=this.getCaptionConfig();if(s.name&&(i=this.attachment.getFilename()),s.size&&(r=this.attachment.getFormattedFilesize()),i){const o=G({tagName:"span",className:ut.attachmentName,textContent:i});e.appendChild(o)}if(r){i&&e.appendChild(document.createTextNode(" "));const o=G({tagName:"span",className:ut.attachmentSize,textContent:r});e.appendChild(o)}}return e}getClassName(){const e=[ut.attachment,"".concat(ut.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(ut.attachment,"--").concat(t)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!Al(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;const t=this.attachment.getType(),i=co((e=Ar[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(i.name=!0),i}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}}const ys=n=>G({tagName:"span",textContent:en,data:{trixCursorTarget:n,trixSerialize:!1}}),Al=function(n,e){const t=G("div");return tn.setHTML(t,n||""),t.querySelector(e)};class vo extends Or{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=G({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",V.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const t=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(e.src=i||t,i===t)e.removeAttribute("data-trix-serialized-attributes");else{const a=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",a)}const r=this.attachment.getWidth(),s=this.attachment.getHeight();r!=null&&(e.width=r),s!=null&&(e.height=s);const o=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class yo extends Nt{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const t=this.createElement();if(t){const i=function(r){for(;(s=r)!==null&&s!==void 0&&s.firstElementChild;){var s;r=r.firstElementChild}return r}(t);Array.from(e).forEach(r=>{i.appendChild(r)}),e=[t]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?vo:Or;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const t=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){const s=i[r];if(r>0){const o=G("br");t.push(o)}if(s.length){const o=document.createTextNode(this.preserveSpaces(s));t.push(o)}}return t}}createElement(){let e,t,i;const r={};for(t in this.attributes){i=this.attributes[t];const o=sr(t);if(o){if(o.tagName){var s;const a=G(o.tagName);s?(s.appendChild(a),s=a):e=s=a}if(o.styleProperty&&(r[o.styleProperty]=i),o.style)for(t in o.style)i=o.style[t],r[t]=i}}if(Object.keys(r).length)for(t in e||(e=G("span")),r)i=r[t],e.style[t]=i;return e}createContainerElement(){for(const e in this.attributes){const t=this.attributes[e],i=sr(e);if(i&&i.groupTagName){const r={};return r[e]=t,G(i.groupTagName,r)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,pt)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(pt," $2")).replace(/\ {2}/g,"".concat(pt," ")).replace(/\ {2}/g," ".concat(pt)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,pt)),e}}class wo extends Nt{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],t=Pr.groupObjects(this.getPieces()),i=t.length-1;for(let s=0;s<t.length;s++){const o=t[s],a={};s===0&&(a.isFirst=!0),s===i&&(a.isLast=!0),Tl(r)&&(a.followsWhitespace=!0);const c=this.findOrCreateCachedChildView(yo,o,{textConfig:this.textConfig,context:a});e.push(...Array.from(c.getNodes()||[]));var r=o}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const Tl=n=>/\s$/.test(n==null?void 0:n.toString()),{css:ws}=Ei;class xo extends Nt{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(G("br"));else{var t;const i=(t=ae(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,r=this.findOrCreateCachedChildView(wo,this.block.text,{textConfig:i});e.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(G("br"))}if(this.attributes.length)return e;{let i;const{tagName:r}=Ee.default;this.block.isRTL()&&(i={dir:"rtl"});const s=G({tagName:r,attributes:i});return e.forEach(o=>s.appendChild(o)),[s]}}createContainerElement(e){const t={};let i;const r=this.attributes[e],{tagName:s,htmlAttributes:o=[]}=ae(r);if(e===0&&this.block.isRTL()&&Object.assign(t,{dir:"rtl"}),r==="attachmentGallery"){const a=this.block.getBlockBreakPosition();i="".concat(ws.attachmentGallery," ").concat(ws.attachmentGallery,"--").concat(a)}return Object.entries(this.block.htmlAttributes).forEach(a=>{let[c,l]=a;o.includes(c)&&(t[c]=l)}),G({tagName:s,className:i,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class nn extends Nt{static render(e){const t=G("div"),i=new this(e,{element:t});return i.render(),i.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Ka,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=G("div"),!this.document.isEmpty()){const e=Pr.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{const i=this.findOrCreateCachedChildView(xo,t);Array.from(i.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return Cl(this.shadowElement,this.element)}sync(){const e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(xs(this.element)),Rr(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(xs(e)).forEach(t=>{const i=this.elementStore.remove(t);i&&t.parentNode.replaceChild(i,t)}),e}}const xs=n=>n.querySelectorAll("[data-trix-store-key]"),Cl=(n,e)=>Ss(n.innerHTML)===Ss(e.innerHTML),Ss=n=>n.replace(/&nbsp;/g," ");function Ae(n,e,t){return(e=Ll(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ll(n){var e=function(t,i){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:String(e)}function ie(n,e){return Ml(n,So(n,e,"get"))}function Ir(n,e,t){return Rl(n,So(n,e,"set"),t),t}function So(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function Ml(n,e){return e.get?e.get.call(n):e.value}function Rl(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Ni(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function Eo(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pi(n,e,t){Eo(n,e),e.set(n,t)}class Bt extends It{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){const t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Pe.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}Ae(Bt,"types",{});class Ao extends Ui{constructor(e){super(...arguments),this.url=e}perform(e){const t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}}class Gt extends It{static attachmentForFile(e){const t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new Pe({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Pe.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=this.attributes.merge(e);var i,r,s,o;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Gt.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?to.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,i;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(i=t.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,i,r,s;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(i=t.attachmentDidChangeAttributes)===null||i===void 0||i.call(t,this),(r=this.delegate)===null||r===void 0||(s=r.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new Ao(e).then(i=>{let{width:r,height:s}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:s}),this.preloadingURL=null,this.setPreviewURL(e),t==null?void 0:t()}).catch(()=>(this.preloadingURL=null,t==null?void 0:t()))}}Ae(Gt,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Vt extends Bt{static fromJSON(e){return new this(Gt.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(Vt.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return"ï¿¼"}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Ae(Vt,"permittedAttributes",["caption","presentation"]),Bt.registerType("attachment",Vt);class Nr extends Bt{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.length?(t=this,i=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),i=new this.constructor(this.string.slice(e),this.attributes)),[t,i]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+"â€¦"),JSON.stringify(e.toString())}}Bt.registerType("string",Nr);class Xi extends It{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new this.constructor(Mr(this.objects,...t))}eachObject(e){return this.objects.map((t,i)=>e(t,i))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){const[i,r]=this.splitObjectAtPosition(t);return new this.constructor(i).insertSplittableListAtIndex(e,r)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[t,i,r]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(i,r+1))}selectSplittableList(e){const t=this.objects.filter(i=>e(i));return new this.constructor(t)}removeObjectsInRange(e){const[t,i,r]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(i,r-i+1)}transformObjectsInRange(e,t){const[i,r,s]=this.splitObjectsAtRange(e),o=i.map((a,c)=>r<=c&&c<=s?t(a):a);return new this.constructor(o)}splitObjectsAtRange(e){let t,[i,r,s]=this.splitObjectAtPosition(Dl(e));return[i,t]=new this.constructor(i).splitObjectAtPosition(Pl(e)+s),[i,r,t-1]}getObjectAtPosition(e){const{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,i;const{index:r,offset:s}=this.findIndexAndOffsetAtPosition(e),o=this.objects.slice(0);if(r!=null)if(s===0)t=r,i=0;else{const a=this.getObjectAtIndex(r),[c,l]=a.splitAtOffset(s);o.splice(r,1,c,l),t=r+1,i=c.getLength()-s}else t=o.length,i=0;return[o,t,i]}consolidate(){const e=[];let t=this.objects[0];return this.objects.slice(1).forEach(i=>{var r,s;(r=(s=t).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(s,i)?t=t.consolidateWith(i):(e.push(t),t=i)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){const i=this.objects.slice(0).slice(e,t+1),r=new this.constructor(i).consolidate().toArray();return this.splice(e,i.length,...r)}findIndexAndOffsetAtPosition(e){let t,i=0;for(t=0;t<this.objects.length;t++){const r=i+this.objects[t].getLength();if(i<=e&&e<r)return{index:t,offset:e-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let i=0;for(let r=0;r<this.objects.length;r++){const s=this.objects[r];if(r<e)i+=s.getLength();else if(r===e){i+=t;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||kl(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const kl=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;let t=!0;for(let i=0;i<n.length;i++){const r=n[i];t&&!r.isEqualTo(e[i])&&(t=!1)}return t},Dl=n=>n[0],Pl=n=>n[1];class $e extends It{static textForAttachmentWithAttributes(e,t){return new this([new Vt(e,t)])}static textForStringWithAttributes(e,t){return new this([new Nr(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>Bt.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const t=e.filter(i=>!i.isEmpty());this.pieceList=new Xi(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const t=this.getPieces().map(i=>e.find(i)||i);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;const i=this.getTextAtRange(e),r=i.getLength();return e[0]<t&&(t-=r),this.removeTextAtRange(e).insertTextAtPosition(i,t)}addAttributeAtRange(e,t,i){const r={};return r[e]=t,this.addAttributesAtRange(r,i)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return Pe.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let i,r=i=t;const s=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[e];)r--;for(;i<s&&this.getCommonAttributesAtRange([t,i+1])[e];)i++;return[r,i]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(const r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===e)return{attachment:r.attachment,position:t};t+=r.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){const t=this.getAttachmentAndPositionById(e.id),i=t.position;if(e=t.attachment)return[i,i+1]}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t);return i?this.addAttributesAtRange(e,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return Ha(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Ke extends It{static fromJSON(e){return new this($e.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,t,i){super(...arguments),this.text=Ol(e||new $e),this.attributes=t||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&kt(this.attributes,e==null?void 0:e.attributes)&&Ut(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new Ke(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Ke(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const t=this.attributes.concat(Es(e));return this.copyWithAttributes(t)}addHTMLAttribute(e,t){const i=Object.assign({},this.htmlAttributes,{[e]:t});return new Ke(this.text,this.attributes,i)}removeAttribute(e){const{listAttribute:t}=ae(e),i=Ts(Ts(this.attributes,e),t);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return As(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return As(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>ae(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const t=this.attributes.lastIndexOf(e),i=Mr(this.attributes,t+1,0,...Es(e));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(e=>ae(e).listAttribute)}isListItem(){var e;return(e=ae(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=ae(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=ae(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){const i=this.toString();let r;switch(e){case"forward":r=i.indexOf(`
`,t);break;case"backward":r=i.slice(0,t).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const t=$e.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(i.appendText(e.text))}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.getLength()?(t=this,i=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),i=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return To(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){const i=e.getAttributes(),r=i[t],s=this.attributes[t];return s===r&&!(ae(s).group===!1&&!(()=>{if(!Pi){Pi=[];for(const o in Ee){const{listAttribute:a}=Ee[o];a!=null&&Pi.push(a)}}return Pi})().includes(i[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const Ol=function(n){return n=Il(n),n=Bl(n)},Il=function(n){let e=!1;const t=n.getPieces();let i=t.slice(0,t.length-1);const r=t[t.length-1];return r?(i=i.map(s=>s.isBlockBreak()?(e=!0,Fl(s)):s),e?new $e([...i,r]):n):n},Nl=$e.textForStringWithAttributes(`
`,{blockBreak:!0}),Bl=function(n){return To(n)?n:n.appendText(Nl)},To=function(n){const e=n.getLength();return e===0?!1:n.getTextAtRange([e-1,e]).isBlockBreak()},Fl=n=>n.copyWithoutAttribute("blockBreak"),Es=function(n){const{listAttribute:e}=ae(n);return e?[e,n]:[n]},As=n=>n.slice(-1)[0],Ts=function(n,e){const t=n.lastIndexOf(e);return t===-1?n:Mr(n,t,1)};class Fe extends It{static fromJSON(e){return new this(Array.from(e).map(t=>Ke.fromJSON(t)))}static fromString(e,t){const i=$e.textForStringWithAttributes(e,t);return new this([new Ke(i)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Ke]),this.blockList=Xi.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const t=new Ya(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){const t=this.getBlocks().map(i=>e.find(i)||i.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getBlocks().map(i=>{const r=e.concat(i.getAttributes());return i.copyWithAttributes(r)});return new this.constructor(t)}replaceBlock(e,t){const i=this.blockList.indexOf(e);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,i))}insertDocumentAtRange(e,t){const{blockList:i}=e;t=ee(t);let[r]=t;const{index:s,offset:o}=this.locationFromPosition(r);let a=this;const c=this.getBlockAtPosition(r);return at(t)&&c.isEmpty()&&!c.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(s)):c.getBlockBreakPosition()===o&&r++,a=a.removeTextAtRange(t),new this.constructor(a.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(e,t){let i,r;t=ee(t);const[s]=t,o=this.locationFromPosition(s),a=this.getBlockAtIndex(o.index).getAttributes(),c=e.getBaseBlockAttributes(),l=a.slice(-c.length);if(kt(c,l)){const v=a.slice(0,-c.length);i=e.copyWithBaseBlockAttributes(v)}else i=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);const d=i.getBlockCount(),f=i.getBlockAtIndex(0);if(kt(a,f.getAttributes())){const v=f.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(v,t),d>1){i=new this.constructor(i.getBlocks().slice(1));const g=s+v.getLength();r=r.insertDocumentAtRange(i,g)}}else r=this.insertDocumentAtRange(i,t);return r}insertTextAtRange(e,t){t=ee(t);const[i]=t,{index:r,offset:s}=this.locationFromPosition(i),o=this.removeTextAtRange(t);return new this.constructor(o.blockList.editObjectAtIndex(r,a=>a.copyWithText(a.text.insertTextAtPosition(e,s))))}removeTextAtRange(e){let t;e=ee(e);const[i,r]=e;if(at(e))return this;const[s,o]=Array.from(this.locationRangeFromRange(e)),a=s.index,c=s.offset,l=this.getBlockAtIndex(a),d=o.index,f=o.offset,v=this.getBlockAtIndex(d);if(r-i==1&&l.getBlockBreakPosition()===c&&v.getBlockBreakPosition()!==f&&v.text.getStringAtPosition(f)===`
`)t=this.blockList.editObjectAtIndex(d,g=>g.copyWithText(g.text.removeTextAtRange([f,f+1])));else{let g;const u=l.text.getTextAtRange([0,c]),h=v.text.getTextAtRange([f,v.getLength()]),p=u.appendText(h);g=a!==d&&c===0&&l.getAttributeLevel()>=v.getAttributeLevel()?v.copyWithText(p):l.copyWithText(p);const y=d+1-a;t=this.blockList.splice(a,y,g)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let i;e=ee(e);const[r,s]=e;if(r<=t&&t<=s)return this;let o=this.getDocumentAtRange(e),a=this.removeTextAtRange(e);const c=r<t;c&&(t-=o.getLength());const[l,...d]=o.getBlocks();return d.length===0?(i=l.getTextWithoutBlockBreak(),c&&(t+=1)):i=l.text,a=a.insertTextAtRange(i,t),d.length===0?a:(o=new this.constructor(d),t+=i.getLength(),a.insertDocumentAtRange(o,t))}addAttributeAtRange(e,t,i){let{blockList:r}=this;return this.eachBlockAtRange(i,(s,o,a)=>r=r.editObjectAtIndex(a,function(){return ae(e)?s.addAttribute(e,t):o[0]===o[1]?s:s.copyWithText(s.text.addAttributeAtRange(e,t,o))})),new this.constructor(r)}addAttribute(e,t){let{blockList:i}=this;return this.eachBlock((r,s)=>i=i.editObjectAtIndex(s,()=>r.addAttribute(e,t))),new this.constructor(i)}removeAttributeAtRange(e,t){let{blockList:i}=this;return this.eachBlockAtRange(t,function(r,s,o){ae(e)?i=i.editObjectAtIndex(o,()=>r.removeAttribute(e)):s[0]!==s[1]&&(i=i.editObjectAtIndex(o,()=>r.copyWithText(r.text.removeAttributeAtRange(e,s))))}),new this.constructor(i)}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t),[r]=Array.from(i),{index:s}=this.locationFromPosition(r),o=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,a=>a.copyWithText(o.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){const i=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,i)}setHTMLAttributeAtPosition(e,t,i){const r=this.getBlockAtPosition(e),s=r.addHTMLAttribute(t,i);return this.replaceBlock(r,s)}insertBlockBreakAtRange(e){let t;e=ee(e);const[i]=e,{offset:r}=this.locationFromPosition(i),s=this.removeTextAtRange(e);return r===0&&(t=[new Ke]),new this.constructor(s.blockList.insertSplittableListAtPosition(new Xi(t),i))}applyBlockAttributeAtRange(e,t,i){const r=this.expandRangeToLineBreaksAndSplitBlocks(i);let s=r.document;i=r.range;const o=ae(e);if(o.listAttribute){s=s.removeLastListAttributeAtRange(i,{exceptAttributeName:e});const a=s.convertLineBreaksToBlockBreaksInRange(i);s=a.document,i=a.range}else s=o.exclusive?s.removeBlockAttributesAtRange(i):o.terminal?s.removeLastTerminalAttributeAtRange(i):s.consolidateBlocksAtRange(i);return s.addAttributeAtRange(e,t,i)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(e,function(r,s,o){const a=r.getLastAttribute();a&&ae(a).listAttribute&&a!==t.exceptAttributeName&&(i=i.editObjectAtIndex(o,()=>r.removeAttribute(a)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,r,s){const o=i.getLastAttribute();o&&ae(o).terminal&&(t=t.editObjectAtIndex(s,()=>i.removeAttribute(o)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,r,s){i.hasAttributes()&&(t=t.editObjectAtIndex(s,()=>i.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=ee(e);let[i,r]=e;const s=this.locationFromPosition(i),o=this.locationFromPosition(r);let a=this;const c=a.getBlockAtIndex(s.index);if(s.offset=c.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(t=a.positionFromLocation(s),a=a.insertBlockBreakAtRange([t,t+1]),o.index+=1,o.offset-=a.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,o.offset===0&&o.index>s.index)o.index-=1,o.offset=a.getBlockAtIndex(o.index).getBlockBreakPosition();else{const l=a.getBlockAtIndex(o.index);l.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=l.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==l.getBlockBreakPosition()&&(t=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([t,t+1]))}return i=a.positionFromLocation(s),r=a.positionFromLocation(o),{document:a,range:e=ee([i,r])}}convertLineBreaksToBlockBreaksInRange(e){e=ee(e);let[t]=e;const i=this.getStringAtRange(e).slice(0,-1);let r=this;return i.replace(/.*?\n/g,function(s){t+=s.length,r=r.insertBlockBreakAtRange([t-1,t])}),{document:r,range:e}}consolidateBlocksAtRange(e){e=ee(e);const[t,i]=e,r=this.locationFromPosition(t).index,s=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,s))}getDocumentAtRange(e){e=ee(e);const t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t;const i=e=ee(e);return i[i.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(i)}getCharacterAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let i,r;e=ee(e);const[s,o]=e,a=this.locationFromPosition(s),c=this.locationFromPosition(o);if(a.index===c.index)return i=this.getBlockAtIndex(a.index),r=[a.offset,c.offset],t(i,r,a.index);for(let l=a.index;l<=c.index;l++)if(i=this.getBlockAtIndex(l),i){switch(l){case a.index:r=[a.offset,i.text.getLength()];break;case c.index:r=[0,c.offset];break;default:r=[0,i.text.getLength()]}t(i,r,l)}}getCommonAttributesAtRange(e){e=ee(e);const[t]=e;if(at(e))return this.getCommonAttributesAtPosition(t);{const i=[],r=[];return this.eachBlockAtRange(e,function(s,o){if(o[0]!==o[1])return i.push(s.text.getCommonAttributesAtRange(o)),r.push(Cs(s))}),Pe.fromCommonAttributesOfObjects(i).merge(Pe.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(e){let t,i;const{index:r,offset:s}=this.locationFromPosition(e),o=this.getBlockAtIndex(r);if(!o)return{};const a=Cs(o),c=o.text.getAttributesAtPosition(s),l=o.text.getAttributesAtPosition(s-1),d=Object.keys(Rt).filter(f=>Rt[f].inheritable);for(t in l)i=l[t],(i===c[t]||d.includes(t))&&(a[t]=i);return a}getRangeOfCommonAttributeAtPosition(e,t){const{index:i,offset:r}=this.locationFromPosition(t),s=this.getTextAtIndex(i),[o,a]=Array.from(s.getExpandedRangeForAttributeAtOffset(e,r)),c=this.positionFromLocation({index:i,offset:o}),l=this.positionFromLocation({index:i,offset:a});return ee([c,l])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){const i=this.getBlockAtIndex(t).getAttributes(),r=Math.min(e.length,i.length);e=(()=>{const s=[];for(let o=0;o<r&&i[o]===e[o];o++)s.push(i[o]);return s})()}return e}getAttachmentById(e){for(const t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:i}=t;return e=e.concat(i.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0;const i=this.blockList.toArray();for(let r=0;r<i.length;r++){const{text:s}=i[r],o=s.getRangeOfAttachment(e);if(o)return ee([t+o[0],t+o[1]]);t+=s.getLength()}}getLocationRangeOfAttachment(e){const t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(const t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0;const i=[];return this.getBlocks().forEach(r=>{const s=r.getLength();r.hasAttribute(e)&&i.push([t,t+s]),t+=s}),i}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[];const s=[];return this.getPieces().forEach(o=>{const a=o.getLength();(function(c){return t?c.getAttribute(e)===t:c.hasAttribute(e)})(o)&&(r[1]===i?r[1]=i+a:s.push(r=[i,i+a])),i+=a}),s}locationFromPosition(e){const t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return ee(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=ee(e)))return;const[t,i]=Array.from(e),r=this.locationFromPosition(t),s=this.locationFromPosition(i);return ee([r,s])}rangeFromLocationRange(e){let t;e=ee(e);const i=this.positionFromLocation(e[0]);return at(e)||(t=this.positionFromLocation(e[1])),ee([i,t])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const Cs=function(n){const e={},t=n.getLastAttribute();return t&&(e[t]=!0),e},In=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=ai(n),attributes:e,type:"string"}},Ls=(n,e)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(e)))}catch{return{}}};class yi extends ue{static parse(e,t){const i=new this(e,t);return i.parse(),i}constructor(e){let{referenceElement:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Fe.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),tn.setHTML(this.containerElement,this.html);const e=Vi(this.containerElement,{usingFilter:_l});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=G({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return bt(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var i;const r=this.getBlockAttributes(t),s=this.getBlockHTMLAttributes(t);kt(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,t,s),this.currentBlockElement=t)}}appendBlockForElement(e){const t=this.isBlockElement(e),i=Et(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const r=this.getBlockAttributes(e),s=this.getBlockHTMLAttributes(e);if(e.firstChild){if(i&&kt(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,e,s),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!i&&!t){const r=this.findParentBlockElement(e);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var i;return Ms(e.parentNode)||(t=Dr(t),Co((i=e.previousSibling)===null||i===void 0?void 0:i.textContent)&&(t=Hl(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(Ct(e)){if(t=Ls(e,"attachment"),Object.keys(t).length){const i=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,i),e.innerHTML=""}return this.processedElements.push(e)}switch(Se(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};const i=(r=>{const s=r.getAttribute("width"),o=r.getAttribute("height"),a={};return s&&(a.width=parseInt(s,10)),o&&(a.height=parseInt(o,10)),a})(e);for(const r in i){const s=i[r];t[r]=s}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Fi.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(Fi.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(t);const r=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,i);return this.blocks.push(r),r}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(In(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],r=i[i.length-1];if((r==null?void 0:r.type)!=="string")return i.push(In(e));r.string+=e}prependStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],r=i[0];if((r==null?void 0:r.type)!=="string")return i.unshift(In(e));r.string=e+r.string}getTextAttributes(e){let t;const i={};for(const r in Rt){const s=Rt[r];if(s.tagName&&gt(e,{matchingSelector:s.tagName,untilNode:this.containerElement}))i[r]=!0;else if(s.parser){if(t=s.parser(e),t){let o=!1;for(const a of this.findBlockElementAncestors(e))if(s.parser(a)===t){o=!0;break}o||(i[r]=t)}}else s.styleProperty&&(t=e.style[s.styleProperty],t&&(i[r]=t))}if(Ct(e)){const r=Ls(e,"attributes");for(const s in r)t=r[s],i[s]=t}return i}getBlockAttributes(e){const t=[];for(;e&&e!==this.containerElement;){for(const r in Ee){const s=Ee[r];var i;s.parse!==!1&&Se(e)===s.tagName&&((i=s.test)!==null&&i!==void 0&&i.call(s,e)||!s.test)&&(t.push(r),s.listAttribute&&t.push(s.listAttribute))}e=e.parentNode}return t.reverse()}getBlockHTMLAttributes(e){const t={},i=Object.values(Ee).find(r=>r.tagName===Se(e));return((i==null?void 0:i.htmlAttributes)||[]).forEach(r=>{e.hasAttribute(r)&&(t[r]=e.getAttribute(r))}),t}findBlockElementAncestors(e){const t=[];for(;e&&e!==this.containerElement;){const i=Se(e);di().includes(i)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Ct(e)&&!gt(e,{matchingSelector:"td",untilNode:this.containerElement}))return di().includes(Se(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!jl(e.data))return;const{parentNode:t,previousSibling:i,nextSibling:r}=e;return zl(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||Ms(t)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(e){return Se(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(Fi.removeBlankTableCells){var t;const i=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return i&&/\S/.test(i)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){const i=this.getMarginOfBlockElementAtIndex(t);i&&(i.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),i.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){const t=this.blockElements[e];if(t&&t.textContent&&!di().includes(Se(t))&&!this.processedElements.includes(t))return Rs(t)}getMarginOfDefaultBlockElement(){const e=G(Ee.default.tagName);return this.containerElement.appendChild(e),Rs(e)}}const Ms=function(n){const{whiteSpace:e}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(e)},zl=n=>n&&!Co(n.textContent),Rs=function(n){const e=window.getComputedStyle(n);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},_l=function(n){return Se(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Hl=n=>n.replace(new RegExp("^".concat(kr.source,"+")),""),jl=n=>new RegExp("^".concat(kr.source,"*$")).test(n),Co=n=>/\s$/.test(n),Wl=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],cr="data-trix-serialized-attributes",$l="[".concat(cr,"]"),Vl=new RegExp("<!--block-->","g"),ql={"application/json":function(n){let e;if(n instanceof Fe)e=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=yi.parse(n.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(n){let e;if(n instanceof Fe)e=nn.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=n.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{bt(t)}),Wl.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(i=>{i.removeAttribute(t)})}),Array.from(e.querySelectorAll($l)).forEach(t=>{try{const i=JSON.parse(t.getAttribute(cr));t.removeAttribute(cr);for(const r in i){const s=i[r];t.setAttribute(r,s)}}catch{}}),e.innerHTML.replace(Vl,"")}};var Ul=Object.freeze({__proto__:null});class oe extends ue{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}oe.proxyMethod("attachment.getAttribute"),oe.proxyMethod("attachment.hasAttribute"),oe.proxyMethod("attachment.setAttribute"),oe.proxyMethod("attachment.getAttributes"),oe.proxyMethod("attachment.setAttributes"),oe.proxyMethod("attachment.isPending"),oe.proxyMethod("attachment.isPreviewable"),oe.proxyMethod("attachment.getURL"),oe.proxyMethod("attachment.getHref"),oe.proxyMethod("attachment.getFilename"),oe.proxyMethod("attachment.getFilesize"),oe.proxyMethod("attachment.getFormattedFilesize"),oe.proxyMethod("attachment.getExtension"),oe.proxyMethod("attachment.getContentType"),oe.proxyMethod("attachment.getFile"),oe.proxyMethod("attachment.setFile"),oe.proxyMethod("attachment.releaseFile"),oe.proxyMethod("attachment.getUploadProgress"),oe.proxyMethod("attachment.setUploadProgress");class Lo extends ue{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){const e=[];for(const t in this.managedAttachments){const i=this.managedAttachments[t];e.push(i)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new oe(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,i;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(i=t.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}unmanageAttachment(e){const t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}}class Mo{constructor(e){this.composition=e,this.document=this.composition.document;const t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class ft extends ue{constructor(){super(...arguments),this.document=new Fe,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,i;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,i,r,s;let{document:o,selectedRange:a}=e;return(t=this.delegate)===null||t===void 0||(i=t.compositionWillLoadSnapshot)===null||i===void 0||i.call(t),this.setDocument(o??new Fe),this.setSelection(a??[0,0]),(r=this.delegate)===null||r===void 0||(s=r.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(r)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,i));const r=i[0],s=r+e.getLength();return t&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ke;const t=new Fe([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Fe;const t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));const i=t[0],r=i+e.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(e,t){const i=this.getCurrentTextAttributes(),r=$e.textForStringWithAttributes(e,i);return this.insertText(r,t)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const t=e[0],i=t+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([t,i])}insertLineBreak(){const e=new Mo(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const t=new Fe([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const t=yi.parse(e).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,i));const r=i[0],s=r+t.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}replaceHTML(e){const t=yi.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(t),this.setSelection(r)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const t=[];return Array.from(e).forEach(i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){const s=Gt.attachmentForFile(i);t.push(s)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new $e;return Array.from(e).forEach(i=>{var r;const s=i.getType(),o=(r=Ar[s])===null||r===void 0?void 0:r.presentation,a=this.getCurrentTextAttributes();o&&(a.presentation=o);const c=$e.textForAttachmentWithAttributes(i,a);t=t.appendText(c)}),this.insertText(t)}shouldManageDeletingInDirection(e){const t=this.getLocationRange();if(at(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,i,r,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getLocationRange();let a=this.getSelectedRange();const c=at(a);if(c?i=e==="backward"&&o[0].offset===0:r=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const l=this.getBlock();if(l.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),l.isEmpty())return!1}return c&&(a=this.getExpandedRangeInDirection(e,{length:s}),e==="backward"&&(t=this.getAttachmentAtRange(a))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!i&&!r&&void 0)}moveTextFromRange(e){const[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){const t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){const[e,t]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){const t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return ae(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const t=this.getSelectedDocument();if(t){for(const i of Array.from(t.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return ae(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,t,i){var r;const s=this.document.getBlockAtPosition(e),o=(r=ae(s.getLastAttribute()))===null||r===void 0?void 0:r.htmlAttributes;if(s&&o!=null&&o.includes(t)){const a=this.document.setHTMLAttributeAtPosition(e,t,i);this.setDocument(a)}}setTextAttribute(e,t){const i=this.getSelectedRange();if(!i)return;const[r,s]=Array.from(i);if(r!==s)return this.setDocument(this.document.addAttributeAtRange(e,t,i));if(e==="href"){const o=$e.textForStringWithAttributes(t,{href:t});return this.insertText(o)}}setBlockAttribute(e,t){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,i)),this.setSelection(i)}removeCurrentAttribute(e){return ae(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const t=this.getBlock();if(t){if((e=ae(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return kt((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(i.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:t}=this.document.locationFromPosition(e);let i=t;const r=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(i+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=r);)i++,s=this.document.getBlockAtIndex(i+1);e=this.document.positionFromLocation({index:t,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,o]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const t=this.document.getCommonAttributesAtRange(e);if(Array.from(rr()).forEach(i=>{t[i]||this.canSetCurrentAttribute(i)||(t[i]=!1)}),!Ut(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return io.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const t in this.currentAttributes){const i=this.currentAttributes[t];i!==!1&&sr(t)&&(e[t]=i)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;const i=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||ee({index:0,offset:0})}withTargetLocationRange(e,t){let i;this.targetLocationRange=e;try{i=t()}finally{this.targetLocationRange=null}return i}withTargetRange(e,t){const i=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(i,t)}withTargetDOMRange(e,t){const i=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(i,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return e==="backward"?t?i-=t:i=this.translateUTF16PositionFromOffset(i,-1):t?r+=t:r=this.translateUTF16PositionFromOffset(r,1),ee([i,r])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();i=this.getExpandedRangeInDirection(e),t=!qi(r,i)}if(e==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),t){const r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const t=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(i)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:t,removed:i}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=[],a=[],c=new Set;r.forEach(d=>{c.add(d)});const l=new Set;return s.forEach(d=>{l.add(d),c.has(d)||o.push(d)}),r.forEach(d=>{l.has(d)||a.push(d)}),{added:o,removed:a}}(this.attachments,e);return this.attachments=e,Array.from(i).forEach(r=>{var s,o;r.delegate=null,(s=this.delegate)===null||s===void 0||(o=s.compositionDidRemoveAttachment)===null||o===void 0||o.call(s,r)}),(()=>{const r=[];return Array.from(t).forEach(s=>{var o,a;s.delegate=this,r.push((o=this.delegate)===null||o===void 0||(a=o.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(o,s))}),r})()}attachmentDidChangeAttributes(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentDidChangePreviewURL(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(t,e)}editAttachment(e,t){var i,r;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e;const{block:i}=e;let r=e.startPosition,s=[r-1,r];i.getBlockBreakPosition()===e.startLocation.offset?(i.breaksOnReturn()&&e.nextCharacter===`
`?r+=1:t=t.removeTextAtRange(s),s=[r,r]):e.nextCharacter===`
`?e.previousCharacter===`
`?s=[r-1,r+1]:(s=[r,r+1],r+=1):e.startLocation.offset-1!=0&&(r+=1);const o=new Fe([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(o,s)),this.setSelection(r)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("ï¿¼",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(t,e)}translateUTF16PositionFromOffset(e,t){const i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(e);return i.offsetToUCS2Offset(r+t)}}ft.proxyMethod("getSelectionManager().getPointRange"),ft.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),ft.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),ft.proxyMethod("getSelectionManager().locationIsCursorTarget"),ft.proxyMethod("getSelectionManager().selectionIsExpanded"),ft.proxyMethod("delegate?.getSelectionManager");class ur extends ue{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!i||!Gl(r,e,t)){const s=this.createEntry({description:e,context:t});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}}const Gl=(n,e,t)=>(n==null?void 0:n.description)===(e==null?void 0:e.toString())&&(n==null?void 0:n.context)===JSON.stringify(t),Nn="attachmentGallery";class Ro{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(Nn,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(Nn,!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Nn)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const ko=function(n){const e=new Ro(n);return e.perform(),e.getSnapshot()},Xl=[ko];class Do{constructor(e,t,i){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=i,this.undoManager=new ur(this.composition),this.filters=Xl.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=yi.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:i}=e;return t=Fe.fromJSON(t),this.loadSnapshot({document:t,selectedRange:i})}loadSnapshot(e){return this.undoManager=new ur(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,t,i){this.composition.setHTMLAtributeAtPosition(e,t,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Po{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,s=!1;const o={index:0,offset:0},a=this.findAttachmentElementParentForNode(e);a&&(e=a.parentNode,t=wn(a));const c=Vi(this.element,{usingFilter:Oo});for(;c.nextNode();){const l=c.currentNode;if(l===e&&hi(e)){$t(l)||(o.offset+=t);break}if(l.parentNode===e){if(r++===t)break}else if(!Et(e,l)&&r>0)break;is(l,{strict:i})?(s&&o.index++,o.offset=0,s=!0):o.offset+=Bn(l)}return o}findContainerAndOffsetFromLocation(e){let t,i;if(e.index===0&&e.offset===0){for(t=this.element,i=0;t.firstChild;)if(t=t.firstChild,xn(t)){i=1;break}return[t,i]}let[r,s]=this.findNodeAndOffsetFromLocation(e);if(r){if(hi(r))Bn(r)===0?(t=r.parentNode.parentNode,i=wn(r.parentNode),$t(r,{name:"right"})&&i++):(t=r,i=e.offset-s);else{if(t=r.parentNode,!is(r.previousSibling)&&!xn(t))for(;r===t.lastChild&&(r=t,t=t.parentNode,!xn(t)););i=wn(r),e.offset!==0&&i++}return[t,i]}}findNodeAndOffsetFromLocation(e){let t,i,r=0;for(const s of this.getSignificantNodesForIndex(e.index)){const o=Bn(s);if(e.offset<=r+o)if(hi(s)){if(t=s,i=r,e.offset===i&&$t(t))break}else t||(t=s,i=r);if(r+=o,r>e.offset)break}return[t,i]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Ct(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const t=[],i=Vi(this.element,{usingFilter:Yl});let r=!1;for(;i.nextNode();){const o=i.currentNode;var s;if(Wt(o)){if(s!=null?s++:s=0,s===e)r=!0;else if(r)break}else r&&t.push(o)}return t}}const Bn=function(n){return n.nodeType===Node.TEXT_NODE?$t(n)?0:n.textContent.length:Se(n)==="br"||Ct(n)?1:0},Yl=function(n){return Kl(n)===NodeFilter.FILTER_ACCEPT?Oo(n):NodeFilter.FILTER_REJECT},Kl=function(n){return ro(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Oo=function(n){return Ct(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Io{createDOMRangeFromPoint(e){let t,{x:i,y:r}=e;if(document.caretPositionFromPoint){const{offsetNode:s,offset:o}=document.caretPositionFromPoint(i,r);return t=document.createRange(),t.setStart(s,o),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){const s=fi();try{const o=document.body.createTextRange();o.moveToPoint(i,r),o.select()}catch{}return t=fi(),fo(s),t}}getClientRectsForDOMRange(e){const t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}}class St extends ue{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new Po(this.element),this.pointMapper=new Io,this.lockCount=0,se("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(fi()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=ee(e);const t=this.createDOMRangeFromLocationRange(e);t&&(fo(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=ee(e);const t=this.getLocationAtPoint(e[0]),i=this.getLocationAtPoint(e[1]);this.setLocationRange([t,i])}getClientRectAtLocationRange(e){const t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){const t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return $t(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=ho())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=fi())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;const i=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!i)return;const r=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return ee([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const t=()=>{if(this.paused=!1,clearTimeout(i),Array.from(e).forEach(r=>{r.destroy()}),Et(document,this.element))return this.selectionDidChange()},i=setTimeout(t,200);e=["mousemove","keydown"].map(r=>se(r,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!Cr(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,i;if((e??(e=this.createLocationRangeFromDOMRange(fi())))&&!qi(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(i=t.locationRangeDidChange)===null||i===void 0?void 0:i.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const t=this.findContainerAndOffsetFromLocation(e[0]),i=at(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&i!=null){const r=document.createRange();return r.setStart(...Array.from(t||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(e){const t=this.createDOMRangeFromPoint(e);var i;if(t)return(i=this.createLocationRangeFromDOMRange(t))===null||i===void 0?void 0:i[0]}domRangeWithinElement(e){return e.collapsed?Et(this.element,e.startContainer):Et(this.element,e.startContainer)&&Et(this.element,e.endContainer)}}St.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),St.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),St.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),St.proxyMethod("pointMapper.createDOMRangeFromPoint"),St.proxyMethod("pointMapper.getClientRectsForDOMRange");var No=Object.freeze({__proto__:null,Attachment:Gt,AttachmentManager:Lo,AttachmentPiece:Vt,Block:Ke,Composition:ft,Document:Fe,Editor:Do,HTMLParser:yi,HTMLSanitizer:tn,LineBreakInsertion:Mo,LocationMapper:Po,ManagedAttachment:oe,Piece:Bt,PointMapper:Io,SelectionManager:St,SplittableList:Xi,StringPiece:Nr,Text:$e,UndoManager:ur}),Jl=Object.freeze({__proto__:null,ObjectView:Nt,AttachmentView:Or,BlockView:xo,DocumentView:nn,PieceView:yo,PreviewableAttachmentView:vo,TextView:wo});const{lang:Fn,css:wt,keyNames:Zl}=Ei,zn=function(n){return function(){const e=n.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class Bo extends ue{constructor(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Ae(this,"makeElementMutable",zn(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Ae(this,"addToolbar",zn(()=>{const s=G({tagName:"div",className:wt.attachmentToolbar,data:{trixMutable:!0},childNodes:G({tagName:"div",className:"trix-button-row",childNodes:G({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:G({tagName:"button",className:"trix-button trix-button--remove",textContent:Fn.remove,attributes:{title:Fn.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(G({tagName:"div",className:wt.attachmentMetadataContainer,childNodes:G({tagName:"span",className:wt.attachmentMetadata,childNodes:[G({tagName:"span",className:wt.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),G({tagName:"span",className:wt.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),se("click",{onElement:s,withCallback:this.didClickToolbar}),se("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ui("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>bt(s)}})),Ae(this,"installCaptionEditor",zn(()=>{const s=G({tagName:"textarea",className:wt.attachmentCaptionEditor,attributes:{placeholder:Fn.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const o=s.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;const a=function(){o.value=s.value,s.style.height=o.scrollHeight+"px"};se("input",{onElement:s,withCallback:a}),se("input",{onElement:s,withCallback:this.didInputCaption}),se("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),se("change",{onElement:s,withCallback:this.didChangeCaption}),se("blur",{onElement:s,withCallback:this.didBlurCaption});const c=this.element.querySelector("figcaption"),l=c.cloneNode();return{do:()=>{if(c.style.display="none",l.appendChild(s),l.appendChild(o),l.classList.add("".concat(wt.attachmentCaption,"--editing")),c.parentElement.insertBefore(l,c),a(),this.options.editCaption)return Rr(()=>s.focus())},undo(){bt(l),c.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,Se(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var e,t,i,r;this.pendingCaption=null,s?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:s},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,i;if(Zl[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(i=t.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class Fo extends ue{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new nn(this.composition.document,{element:this.element}),se("focus",{onElement:this.element,withCallback:this.didFocus}),se("blur",{onElement:this.element,withCallback:this.didBlur}),se("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),se("mousedown",{onElement:this.element,matchingSelector:Tt,withCallback:this.didClickAttachment}),se("click",{onElement:this.element,matchingSelector:"a".concat(Tt),preventDefault:!0})}didFocus(e){var t;const i=()=>{var r,s;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(r)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(i))||i()}didBlur(e){this.blurPromise=new Promise(t=>Rr(()=>{var i,r;return Cr(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var i,r;const s=this.findAttachmentForElement(t),o=!!gt(e.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,s,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,i,r,s,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(s)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===e)return;const r=this.documentView.findElementForObject(e);if(!r)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new Bo(s,r,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class zo extends ue{}const _o="data-trix-mutable",Ql="[".concat(_o,"]"),ec={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Ho extends ue{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,ec)}stop(){return this.observer.disconnect()}didMutate(e){var t,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(i=t.elementDidMutate)===null||i===void 0||i.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!ro(e)}nodeIsMutable(e){return gt(e,{matchingSelector:Ql})}nodesModifiedByMutation(e){const t=[];switch(e.type){case"attributes":e.attributeName!==_o&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(a=>{Array.from(e).includes(a)||e.push(a)}),t.push(...Array.from(i.deletions||[]));const r={},s=e.join("");s&&(r.textAdded=s);const o=t.join("");return o&&(r.textDeleted=o),r}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t;const i=[],r=[];Array.from(this.getMutationsByType("childList")).forEach(a=>{i.push(...Array.from(a.addedNodes||[])),r.push(...Array.from(a.removedNodes||[]))}),i.length===0&&r.length===1&&Wt(r[0])?(e=[],t=[`
`]):(e=dr(i),t=dr(r));const s=e.filter((a,c)=>a!==t[c]).map(ai),o=t.filter((a,c)=>a!==e[c]).map(ai);return{additions:s,deletions:o}}getTextChangesFromCharacterData(){let e,t;const i=this.getMutationsByType("characterData");if(i.length){const r=i[0],s=i[i.length-1],o=function(a,c){let l,d;return a=vi.box(a),(c=vi.box(c)).length<a.length?[d,l]=ls(a,c):[l,d]=ls(c,a),{added:l,removed:d}}(ai(r.oldValue),ai(s.target.data));e=o.added,t=o.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}}const dr=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const t of Array.from(n))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:Se(t)==="br"?e.push(`
`):e.push(...Array.from(dr(t.childNodes)||[]))}return e};class jo extends Ui{constructor(e){super(...arguments),this.file=e}perform(e){const t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}}class tc{constructor(e){this.element=e}shouldIgnore(e){return!!Si.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&ic(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}}const ic=(n,e)=>ks(n)===ks(e),nc=new RegExp("(".concat("ï¿¼","|").concat(en,"|").concat(pt,"|\\s)+"),"g"),ks=n=>n.replace(nc," ").trim();class rn extends ue{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new Ho(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new tc(this.element);for(const t in this.constructor.events)se(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){const t=Array.from(e).map(i=>new jo(i));return Promise.all(t).then(i=>{this.handleInput(function(){var r,s;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(i),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!Cr(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(e,t){const i=document.createElement("a");return i.href=e,i.textContent=t||e,i.outerHTML}}var _n;Ae(rn,"events",{});const{browser:rc,keyNames:Wo}=Ei;let sc=0;class st extends rn{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const t in e){const i=e[t];this.inputSummary[t]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Dt.reset()}elementDidMutate(e){var t,i;return this.isComposing()?(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:i}=e;if(this.inputSummary.preferDocument)return!0;const r=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(t)&&!r,a=i===`
`&&!s;if(o&&!a||a&&!o){const l=this.getSelectedRange();if(l){var c;const d=o?t.replace(/\n$/,"").length||-1:(t==null?void 0:t.length)||1;if((c=this.responder)!==null&&c!==void 0&&c.positionIsBlockBreak(l[1]+d))return!0}}return r&&s}mutationIsSignificant(e){var t;const i=Object.keys(e).length>0,r=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new dt(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(r){if(r==null||!r.setData)return!1;for(const s in ss){const o=ss[s];try{if(r.setData(s,o),!r.getData(s)===o)return!1}catch{return!1}}return!0}(e))return;const i=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(i)),e.setData("text/html",nn.render(i).innerHTML),e.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const t={};return Array.from((e==null?void 0:e.types)||[]).forEach(i=>{t[i]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){const t=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=G({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{const s=r.innerHTML;return bt(r),this.setSelectedRange(t),e(s)})}}Ae(st,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=Wo[n.keyCode];if(e){var t;let r=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var o;n["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),r=(o=r)===null||o===void 0?void 0:o[s])}),((t=r)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),Dt.reset(),r[e].call(this,n))}if(lo(n)){const r=String.fromCharCode(n.keyCode).toLowerCase();if(r){var i;const s=["alt","shift"].map(o=>{if(n["".concat(o,"Key")])return o}).filter(o=>o);s.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(s)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const e=lc(n);var t,i;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:e}=n,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var i;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+t.length]),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(r)}},dragenter(n){n.preventDefault()},dragstart(n){var e,t;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var e,t;if(!Ut(i,this.draggingPoint))return this.draggingPoint=i,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(n){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(n){var e,t;n.preventDefault();const i=(e=n.dataTransfer)===null||e===void 0?void 0:e.files,r=n.dataTransfer.getData("application/x-trix-document"),s={x:n.clientX,y:n.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(s),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var o,a;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var c;const l=Fe.fromJSONString(r);(c=this.responder)===null||c===void 0||c.insertDocument(l),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const e=n.clipboardData||n.testClipboardData,t={clipboard:e};if(!e||cc(n))return void this.getPastedHTMLUsingHiddenElement(w=>{var S,D,R;return t.type="text/html",t.html=w,(S=this.delegate)===null||S===void 0||S.inputControllerWillPaste(t),(D=this.responder)===null||D===void 0||D.insertHTML(t.html),this.requestRender(),(R=this.delegate)===null||R===void 0?void 0:R.inputControllerDidPaste(t)});const i=e.getData("URL"),r=e.getData("text/html"),s=e.getData("public.url-name");if(i){var o,a,c;let w;t.type="text/html",w=s?Dr(s).trim():i,t.html=this.createLinkHTML(i,w),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(t),this.setInputSummary({textAdded:w,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(t.html),this.requestRender(),(c=this.delegate)===null||c===void 0||c.inputControllerDidPaste(t)}else if(ao(e)){var l,d,f;t.type="text/plain",t.string=e.getData("text/plain"),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(t.string),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(t)}else if(r){var v,g,u;t.type="text/html",t.html=r,(v=this.delegate)===null||v===void 0||v.inputControllerWillPaste(t),(g=this.responder)===null||g===void 0||g.insertHTML(t.html),this.requestRender(),(u=this.delegate)===null||u===void 0||u.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var h,p;const w=(h=e.items)===null||h===void 0||(h=h[0])===null||h===void 0||(p=h.getAsFile)===null||p===void 0?void 0:p.call(h);if(w){var y,b,m;const S=oc(w);!w.name&&S&&(w.name="pasted-file-".concat(++sc,".").concat(S)),t.type="File",t.file=w,(y=this.delegate)===null||y===void 0||y.inputControllerWillAttachFiles(),(b=this.responder)===null||b===void 0||b.insertFile(t.file),this.requestRender(),(m=this.delegate)===null||m===void 0||m.inputControllerDidPaste(t)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),Ae(st,"keys",{backspace(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var e,t;return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),st.proxyMethod("responder?.getSelectedRange"),st.proxyMethod("responder?.setSelectedRange"),st.proxyMethod("responder?.expandSelectionInDirection"),st.proxyMethod("responder?.selectionIsInCursorTarget"),st.proxyMethod("responder?.selectionIsExpanded");const oc=n=>{var e;return(e=n.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},ac=!((_n=" ".codePointAt)===null||_n===void 0||!_n.call(" ",0)),lc=function(n){if(n.key&&ac&&n.key.codePointAt(0)===n.keyCode)return n.key;{let e;if(n.which===null?e=n.keyCode:n.which!==0&&n.charCode!==0&&(e=n.charCode),e!=null&&Wo[e]!=="escape")return vi.fromCodepoints([e]).toString()}},cc=function(n){const e=n.clipboardData;if(e){if(e.types.includes("text/html")){for(const t of e.types){const i=/^CorePasteboardFlavorType/.test(t),r=/^dyn\./.test(t)&&e.getData(t);if(i||r)return!0}return!1}{const t=e.types.includes("com.apple.webarchive"),i=e.types.includes("com.apple.flat-rtfd");return t||i}}};class dt extends ue{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,i,r,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!rc.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}}dt.proxyMethod("inputController.setInputSummary"),dt.proxyMethod("inputController.requestRender"),dt.proxyMethod("inputController.requestReparse"),dt.proxyMethod("responder?.selectionIsExpanded"),dt.proxyMethod("responder?.insertPlaceholder"),dt.proxyMethod("responder?.selectPlaceholder"),dt.proxyMethod("responder?.forgetPlaceholder");class mi extends rn{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(t,i)})}toggleAttributeIfSupported(e){var t;if(rr().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var i;if(rr().includes(e))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;t&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const r=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(e)},s=this.getTargetDOMRange({minLength:this.composing?1:2});return s?this.withTargetDOMRange(s,r):r()}withTargetDOMRange(e,t){var i;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(e,t.bind(this)):(Dt.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(r&&r.length){const s=uc(r[0]);if(i===0||s.toString().length>=i)return s}}withEvent(e,t){let i;this.event=e;try{i=t.call(this)}finally{this.event=null}return i}}Ae(mi,"events",{keydown(n){if(lo(n)){var e;const t=fc(n);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&n.preventDefault()}else{let t=n.key;n.altKey&&(t+="+Alt"),n.shiftKey&&(t+="+Shift");const i=this.constructor.keys[t];if(i)return this.withEvent(n,i)}},paste(n){var e;let t;const i=(e=n.clipboardData)===null||e===void 0?void 0:e.getData("URL");return $o(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):hc(n)?(n.preventDefault(),t={type:"text/plain",string:n.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(t),(s=this.responder)===null||s===void 0||s.insertString(t.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(t)):i?(n.preventDefault(),t={type:"text/html",html:this.createLinkHTML(i)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),(c=this.responder)===null||c===void 0||c.insertHTML(t.html),this.render(),(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)):void 0;var r,s,o,a,c,l},beforeinput(n){const e=this.constructor.inputTypes[n.inputType],t=(i=n,!(!/iPhone|iPad/.test(navigator.userAgent)||i.inputType&&i.inputType!=="insertParagraph"));var i;e&&(this.withEvent(n,e),t||this.scheduleRender()),t&&this.render()},input(n){Dt.reset()},dragstart(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:jn(n)})},dragenter(n){Hn(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const t=jn(n);var e;if(!Ut(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else Hn(n)&&n.preventDefault()},drop(n){var e,t;if(this.dragging)return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Hn(n)){var i;n.preventDefault();const r=jn(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Si.recentAndroid||this.scheduleRender())}}),Ae(mi,"keys",{ArrowLeft(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var n,e,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),Ae(mi,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const t in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var e;if(n)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(n)})},insertFromPaste(){const{dataTransfer:n}=this.event,e={dataTransfer:n},t=n.getData("URL"),i=n.getData("text/html");if(t){var r;let c;this.event.preventDefault(),e.type="text/html";const l=n.getData("public.url-name");c=l?Dr(l).trim():t,e.html=this.createLinkHTML(t,c),(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(ao(n)){var s;e.type="text/plain",e.string=n.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(dc(this.event)){var o;e.type="File",e.file=n.files[0],(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(i){var a;this.event.preventDefault(),e.type="text/html",e.html=i,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const n=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const uc=function(n){const e=document.createRange();return e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),e},Hn=n=>{var e;return Array.from(((e=n.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},dc=n=>{var e;return((e=n.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!$o(n)&&!(t=>{let{dataTransfer:i}=t;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(n)},$o=function(n){const e=n.clipboardData;if(e)return Array.from(e.types).filter(t=>t.match(/file/i)).length===e.types.length&&e.files.length>=1},hc=function(n){const e=n.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},fc=function(n){const e=[];return n.altKey&&e.push("alt"),n.shiftKey&&e.push("shift"),e.push(n.key),e},jn=n=>({x:n.clientX,y:n.clientY}),hr="[data-trix-attribute]",fr="[data-trix-action]",pc="".concat(hr,", ").concat(fr),sn="[data-trix-dialog]",mc="".concat(sn,"[data-trix-active]"),gc="".concat(sn," [data-trix-method]"),Ds="".concat(sn," [data-trix-input]"),Ps=(n,e)=>(e||(e=jt(n)),n.querySelector("[data-trix-input][name='".concat(e,"']"))),Os=n=>n.getAttribute("data-trix-action"),jt=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Vo extends ue{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),se("mousedown",{onElement:this.element,matchingSelector:fr,withCallback:this.didClickActionButton}),se("mousedown",{onElement:this.element,matchingSelector:hr,withCallback:this.didClickAttributeButton}),se("click",{onElement:this.element,matchingSelector:pc,preventDefault:!0}),se("click",{onElement:this.element,matchingSelector:gc,withCallback:this.didClickDialogButton}),se("keydown",{onElement:this.element,matchingSelector:Ds,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const r=Os(t);return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(r,t);var s}didClickAttributeButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const r=jt(t);var s;return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(e,t){const i=gt(t,{matchingSelector:sn});return this[t.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();const i=t.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(fr)).map(t=>e(t,Os(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(hr)).map(t=>e(t,jt(t)))}applyKeyboardCommand(e){const t=JSON.stringify(e.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===t)return ui("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(e){const t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,i;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();const r=this.getDialog(e);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(o=>{o.removeAttribute("disabled")});const s=jt(r);if(s){const o=Ps(r,e);o&&(o.value=this.attributes[s]||"",o.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(e)}setAttribute(e){var t;const i=jt(e),r=Ps(e,i);return!r.willValidate||(r.setCustomValidity(""),r.checkValidity()&&this.isSafeAttribute(r))?((t=this.delegate)===null||t===void 0||t.toolbarDidUpdateAttribute(i,r.value),this.hideDialog()):(r.setCustomValidity("Invalid value"),r.setAttribute("data-trix-validate",""),r.classList.add("trix-validate"),r.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||Gi.isValidAttribute("a","href",e.value)}removeAttribute(e){var t;const i=jt(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const e=this.element.querySelector(mc);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Ds)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class gi extends zo{constructor(e){let{editorElement:t,document:i,html:r}=e;super(...arguments),this.editorElement=t,this.selectionManager=new St(this.editorElement),this.selectionManager.delegate=this,this.composition=new ft,this.composition.delegate=this,this.attachmentManager=new Lo(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Lr.getLevel()===2?new mi(this.editorElement):new st(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Fo(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Vo(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Do(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return Dt.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Dt.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){const t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!qi(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,t){return this.invokeAction(e,t)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(t=t.test)===null||t===void 0||!t.call(this));var t}invokeAction(e,t){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:t}):(i=this.actions[e])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Ut(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{const{document:s,selectedRange:o}=e;e=r.call(this.editor,e)||{},e.document||(e.document=s),e.selectedRange||(e.selectedRange=o)}),t=e,i=this.composition.getSnapshot(),!qi(t.selectedRange,i.selectedRange)||!t.document.isEqualTo(i.document))return this.composition.loadSnapshot(e);var t,i}updateInputElement(){const e=function(t,i){const r=ql[i];if(r)return r(t);throw new Error("unknown content type: ".concat(i))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const t=ae(e),i=this.selectionManager.getLocationRange();if(t||!at(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return at(e)?e[0].index:e}getTimeContext(){return tr.interval>0?Math.floor(new Date().getTime()/tr.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Ae(gi,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Lr.pickFiles(this.editor.insertFiles)}}}),gi.proxyMethod("getSelectionManager().setLocationRange"),gi.proxyMethod("getSelectionManager().getLocationRange");var bc=Object.freeze({__proto__:null,AttachmentEditorController:Bo,CompositionController:Fo,Controller:zo,EditorController:gi,InputController:rn,Level0InputController:st,Level2InputController:mi,ToolbarController:Vo}),vc=Object.freeze({__proto__:null,MutationObserver:Ho,SelectionChangeObserver:uo}),yc=Object.freeze({__proto__:null,FileVerificationOperation:jo,ImagePreloadOperation:Ao});oo("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class qo extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=so.getDefaultHTML())}}let wc=0;const xc=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,se(e,t)}("focus",{onElement:n,withCallback:()=>Sc(n)})},Sc=function(n){return Ec(n),Ac()},Ec=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),se("mscontrolselect",{onElement:n,preventDefault:!0})},Ac=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){const{tagName:i}=Ee.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},Is=Si.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};oo("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Tt,` figcaption textarea {
    resize: none;
}

%t `).concat(Tt,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Tt,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Is.display,` !important;
    width: `).concat(Is.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var rt=new WeakMap,si=new WeakSet;class Tc{constructor(e){var t,i;Eo(t=this,i=si),i.add(t),pi(this,rt,{writable:!0,value:void 0}),this.element=e,Ir(this,rt,e.attachInternals())}connectedCallback(){Ni(this,si,Bi).call(this)}disconnectedCallback(){}get labels(){return ie(this,rt).labels}get disabled(){var e;return(e=this.element.inputElement)===null||e===void 0?void 0:e.disabled}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),Ni(this,si,Bi).call(this)}get validity(){return ie(this,rt).validity}get validationMessage(){return ie(this,rt).validationMessage}get willValidate(){return ie(this,rt).willValidate}setFormValue(e){Ni(this,si,Bi).call(this)}checkValidity(){return ie(this,rt).checkValidity()}reportValidity(){return ie(this,rt).reportValidity()}setCustomValidity(e){Ni(this,si,Bi).call(this,e)}}function Bi(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:t}=this.element,i=e&&!t,r=!!n,s=G("input",{required:e}),o=n||s.validationMessage;ie(this,rt).setValidity({valueMissing:i,customError:r},o)}var Wn=new WeakMap,$n=new WeakMap,Vn=new WeakMap;class Cc{constructor(e){pi(this,Wn,{writable:!0,value:void 0}),pi(this,$n,{writable:!0,value:t=>{t.defaultPrevented||t.target===this.element.form&&this.element.reset()}}),pi(this,Vn,{writable:!0,value:t=>{if(t.defaultPrevented||this.element.contains(t.target))return;const i=gt(t.target,{matchingSelector:"label"});i&&Array.from(this.labels).includes(i)&&this.element.focus()}}),this.element=e}connectedCallback(){Ir(this,Wn,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const t=function(){const i=Array.from(e.labels).map(s=>{if(!s.contains(e))return s.textContent}).filter(s=>s),r=i.join(" ");return r?e.setAttribute("aria-label",r):e.removeAttribute("aria-label")};return t(),se("focus",{onElement:e,withCallback:t})}(this.element)),window.addEventListener("reset",ie(this,$n),!1),window.addEventListener("click",ie(this,Vn),!1)}disconnectedCallback(){var e;(e=ie(this,Wn))===null||e===void 0||e.destroy(),window.removeEventListener("reset",ie(this,$n),!1),window.removeEventListener("click",ie(this,Vn),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const t=gt(this.element,{matchingSelector:"label"});return t&&[this.element,null].includes(t.control)&&e.push(t),e}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var be=new WeakMap;class Yi extends HTMLElement{constructor(){super(),pi(this,be,{writable:!0,value:void 0}),Ir(this,be,this.constructor.formAssociated?new Tc(this):new Cc(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++wc),this.trixId)}get labels(){return ie(this,be).labels}get disabled(){return ie(this,be).disabled}set disabled(e){ie(this,be).disabled=e}get required(){return ie(this,be).required}set required(e){ie(this,be).required=e}get validity(){return ie(this,be).validity}get validationMessage(){return ie(this,be).validationMessage}get willValidate(){return ie(this,be).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const t="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",t),this.internalToolbar=G("trix-toolbar",{id:t}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){const t="trix-input-".concat(this.trixId);this.setAttribute("input",t);const i=G("input",{type:"hidden",id:t});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}attributeChangedCallback(e,t,i){e==="connected"&&this.isConnected&&t!=null&&t!==i&&requestAnimationFrame(()=>this.reconnect())}notify(e,t){if(this.editorController)return ui("trix-".concat(e),{onElement:this,attributes:t})}setFormValue(e){this.inputElement&&(this.inputElement.value=e,ie(this,be).setFormValue(e))}connectedCallback(){this.hasAttribute("data-trix-internal")||(xc(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),this.editorController||(ui("trix-before-initialize",{onElement:this}),this.editorController=new gi({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>ui("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),ie(this,be).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),ie(this,be).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return ie(this,be).checkValidity()}reportValidity(){return ie(this,be).reportValidity()}setCustomValidity(e){ie(this,be).setCustomValidity(e)}formDisabledCallback(e){this.inputElement&&(this.inputElement.disabled=e),this.toggleAttribute("contenteditable",!e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Ae(Yi,"formAssociated","ElementInternals"in window),Ae(Yi,"observedAttributes",["connected"]);const pr={VERSION:Ra,config:Ei,core:Ul,models:No,views:Jl,controllers:bc,observers:vc,operations:yc,elements:Object.freeze({__proto__:null,TrixEditorElement:Yi,TrixToolbarElement:qo}),filters:Object.freeze({__proto__:null,Filter:Ro,attachmentGalleryFilter:ko})};Object.assign(pr,No),window.Trix=pr,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",qo),customElements.get("trix-editor")||customElements.define("trix-editor",Yi)},0);window.Trix=pr;function Uo(n,e){return function(){return n.apply(e,arguments)}}const{toString:Lc}=Object.prototype,{getPrototypeOf:Br}=Object,on=(n=>e=>{const t=Lc.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=n=>(n=n.toLowerCase(),e=>on(e)===n),an=n=>e=>typeof e===n,{isArray:Xt}=Array,wi=an("undefined");function Mc(n){return n!==null&&!wi(n)&&n.constructor!==null&&!wi(n.constructor)&&Oe(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Go=Ve("ArrayBuffer");function Rc(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Go(n.buffer),e}const kc=an("string"),Oe=an("function"),Xo=an("number"),ln=n=>n!==null&&typeof n=="object",Dc=n=>n===!0||n===!1,Hi=n=>{if(on(n)!=="object")return!1;const e=Br(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Pc=Ve("Date"),Oc=Ve("File"),Ic=Ve("Blob"),Nc=Ve("FileList"),Bc=n=>ln(n)&&Oe(n.pipe),Fc=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Oe(n.append)&&((e=on(n))==="formdata"||e==="object"&&Oe(n.toString)&&n.toString()==="[object FormData]"))},zc=Ve("URLSearchParams"),[_c,Hc,jc,Wc]=["ReadableStream","Request","Response","Headers"].map(Ve),$c=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ai(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Xt(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function Yo(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const At=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ko=n=>!wi(n)&&n!==At;function mr(){const{caseless:n}=Ko(this)&&this||{},e={},t=(i,r)=>{const s=n&&Yo(e,r)||r;Hi(e[s])&&Hi(i)?e[s]=mr(e[s],i):Hi(i)?e[s]=mr({},i):Xt(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ai(arguments[i],t);return e}const Vc=(n,e,t,{allOwnKeys:i}={})=>(Ai(e,(r,s)=>{t&&Oe(r)?n[s]=Uo(r,t):n[s]=r},{allOwnKeys:i}),n),qc=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Uc=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Gc=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Br(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Xc=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Yc=n=>{if(!n)return null;if(Xt(n))return n;let e=n.length;if(!Xo(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Kc=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Br(Uint8Array)),Jc=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},Zc=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Qc=Ve("HTMLFormElement"),eu=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),Ns=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),tu=Ve("RegExp"),Jo=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ai(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},iu=n=>{Jo(n,(e,t)=>{if(Oe(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Oe(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},nu=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Xt(n)?i(n):i(String(n).split(e)),t},ru=()=>{},su=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function ou(n){return!!(n&&Oe(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const au=n=>{const e=new Array(10),t=(i,r)=>{if(ln(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Xt(i)?[]:{};return Ai(i,(o,a)=>{const c=t(o,r+1);!wi(c)&&(s[a]=c)}),e[r]=void 0,s}}return i};return t(n,0)},lu=Ve("AsyncFunction"),cu=n=>n&&(ln(n)||Oe(n))&&Oe(n.then)&&Oe(n.catch),Zo=((n,e)=>n?setImmediate:e?((t,i)=>(At.addEventListener("message",({source:r,data:s})=>{r===At&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),At.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Oe(At.postMessage)),uu=typeof queueMicrotask<"u"?queueMicrotask.bind(At):typeof process<"u"&&process.nextTick||Zo,M={isArray:Xt,isArrayBuffer:Go,isBuffer:Mc,isFormData:Fc,isArrayBufferView:Rc,isString:kc,isNumber:Xo,isBoolean:Dc,isObject:ln,isPlainObject:Hi,isReadableStream:_c,isRequest:Hc,isResponse:jc,isHeaders:Wc,isUndefined:wi,isDate:Pc,isFile:Oc,isBlob:Ic,isRegExp:tu,isFunction:Oe,isStream:Bc,isURLSearchParams:zc,isTypedArray:Kc,isFileList:Nc,forEach:Ai,merge:mr,extend:Vc,trim:$c,stripBOM:qc,inherits:Uc,toFlatObject:Gc,kindOf:on,kindOfTest:Ve,endsWith:Xc,toArray:Yc,forEachEntry:Jc,matchAll:Zc,isHTMLForm:Qc,hasOwnProperty:Ns,hasOwnProp:Ns,reduceDescriptors:Jo,freezeMethods:iu,toObjectSet:nu,toCamelCase:eu,noop:ru,toFiniteNumber:su,findKey:Yo,global:At,isContextDefined:Ko,isSpecCompliantForm:ou,toJSONObject:au,isAsyncFn:lu,isThenable:cu,setImmediate:Zo,asap:uu};function q(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}M.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Qo=q.prototype,ea={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ea[n]={value:n}});Object.defineProperties(q,ea);Object.defineProperty(Qo,"isAxiosError",{value:!0});q.from=(n,e,t,i,r,s)=>{const o=Object.create(Qo);return M.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),q.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const du=null;function gr(n){return M.isPlainObject(n)||M.isArray(n)}function ta(n){return M.endsWith(n,"[]")?n.slice(0,-2):n}function Bs(n,e,t){return n?n.concat(e).map(function(r,s){return r=ta(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function hu(n){return M.isArray(n)&&!n.some(gr)}const fu=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function cn(n,e,t){if(!M.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=M.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,p){return!M.isUndefined(p[h])});const i=t.metaTokens,r=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function l(u){if(u===null)return"";if(M.isDate(u))return u.toISOString();if(!c&&M.isBlob(u))throw new q("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(u)||M.isTypedArray(u)?c&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function d(u,h,p){let y=u;if(u&&!p&&typeof u=="object"){if(M.endsWith(h,"{}"))h=i?h:h.slice(0,-2),u=JSON.stringify(u);else if(M.isArray(u)&&hu(u)||(M.isFileList(u)||M.endsWith(h,"[]"))&&(y=M.toArray(u)))return h=ta(h),y.forEach(function(m,w){!(M.isUndefined(m)||m===null)&&e.append(o===!0?Bs([h],w,s):o===null?h:h+"[]",l(m))}),!1}return gr(u)?!0:(e.append(Bs(p,h,s),l(u)),!1)}const f=[],v=Object.assign(fu,{defaultVisitor:d,convertValue:l,isVisitable:gr});function g(u,h){if(!M.isUndefined(u)){if(f.indexOf(u)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(u),M.forEach(u,function(y,b){(!(M.isUndefined(y)||y===null)&&r.call(e,y,M.isString(b)?b.trim():b,h,v))===!0&&g(y,h?h.concat(b):[b])}),f.pop()}}if(!M.isObject(n))throw new TypeError("data must be an object");return g(n),e}function Fs(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Fr(n,e){this._pairs=[],n&&cn(n,this,e)}const ia=Fr.prototype;ia.append=function(e,t){this._pairs.push([e,t])};ia.toString=function(e){const t=e?function(i){return e.call(this,i,Fs)}:Fs;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function pu(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function na(n,e,t){if(!e)return n;const i=t&&t.encode||pu;M.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=M.isURLSearchParams(e)?e.toString():new Fr(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class zs{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const ra={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mu=typeof URLSearchParams<"u"?URLSearchParams:Fr,gu=typeof FormData<"u"?FormData:null,bu=typeof Blob<"u"?Blob:null,vu={isBrowser:!0,classes:{URLSearchParams:mu,FormData:gu,Blob:bu},protocols:["http","https","file","blob","url","data"]},zr=typeof window<"u"&&typeof document<"u",br=typeof navigator=="object"&&navigator||void 0,yu=zr&&(!br||["ReactNative","NativeScript","NS"].indexOf(br.product)<0),wu=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xu=zr&&window.location.href||"http://localhost",Su=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zr,hasStandardBrowserEnv:yu,hasStandardBrowserWebWorkerEnv:wu,navigator:br,origin:xu},Symbol.toStringTag,{value:"Module"})),ve={...Su,...vu};function Eu(n,e){return cn(n,new ve.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return ve.isNode&&M.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Au(n){return M.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Tu(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function sa(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&M.isArray(r)?r.length:o,c?(M.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!M.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&M.isArray(r[o])&&(r[o]=Tu(r[o])),!a)}if(M.isFormData(n)&&M.isFunction(n.entries)){const t={};return M.forEachEntry(n,(i,r)=>{e(Au(i),r,t,0)}),t}return null}function Cu(n,e,t){if(M.isString(n))try{return(e||JSON.parse)(n),M.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ti={transitional:ra,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return r?JSON.stringify(sa(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Eu(e,this.formSerializer).toString();if((a=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cn(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),Cu(e)):e}],transformResponse:[function(e){const t=this.transitional||Ti.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?q.from(a,q.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],n=>{Ti.headers[n]={}});const Lu=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mu=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&Lu[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},_s=Symbol("internals");function oi(n){return n&&String(n).trim().toLowerCase()}function ji(n){return n===!1||n==null?n:M.isArray(n)?n.map(ji):String(n)}function Ru(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const ku=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function qn(n,e,t,i,r){if(M.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function Du(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Pu(n,e){const t=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Le=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,c,l){const d=oi(c);if(!d)throw new Error("header name must be a non-empty string");const f=M.findKey(r,d);(!f||r[f]===void 0||l===!0||l===void 0&&r[f]!==!1)&&(r[f||c]=ji(a))}const o=(a,c)=>M.forEach(a,(l,d)=>s(l,d,c));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(M.isString(e)&&(e=e.trim())&&!ku(e))o(Mu(e),t);else if(M.isHeaders(e))for(const[a,c]of e.entries())s(c,a,i);else e!=null&&s(t,e,i);return this}get(e,t){if(e=oi(e),e){const i=M.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return Ru(r);if(M.isFunction(t))return t.call(this,r,i);if(M.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=oi(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||qn(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=oi(o),o){const a=M.findKey(i,o);a&&(!t||qn(i,i[a],a,t))&&(delete i[a],r=!0)}}return M.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||qn(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return M.forEach(this,(r,s)=>{const o=M.findKey(i,s);if(o){t[o]=ji(r),delete t[s];return}const a=e?Du(s):String(s).trim();a!==s&&delete t[s],t[a]=ji(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return M.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&M.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[_s]=this[_s]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=oi(o);i[a]||(Pu(r,o),i[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Le.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});M.freezeMethods(Le);function Un(n,e){const t=this||Ti,i=e||t,r=Le.from(i.headers);let s=i.data;return M.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function oa(n){return!!(n&&n.__CANCEL__)}function Yt(n,e,t){q.call(this,n??"canceled",q.ERR_CANCELED,e,t),this.name="CanceledError"}M.inherits(Yt,q,{__CANCEL__:!0});function aa(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new q("Request failed with status code "+t.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ou(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Iu(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),d=i[s];o||(o=l),t[r]=c,i[r]=l;let f=s,v=0;for(;f!==r;)v+=t[f++],f=f%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),l-o<e)return;const g=d&&l-d;return g?Math.round(v*1e3/g):void 0}}function Nu(n,e){let t=0,i=1e3/e,r,s;const o=(l,d=Date.now())=>{t=d,r=null,s&&(clearTimeout(s),s=null),n.apply(null,l)};return[(...l)=>{const d=Date.now(),f=d-t;f>=i?o(l,d):(r=l,s||(s=setTimeout(()=>{s=null,o(r)},i-f)))},()=>r&&o(r)]}const Ki=(n,e,t=3)=>{let i=0;const r=Iu(50,250);return Nu(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-i,l=r(c),d=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&d?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(f)},t)},Hs=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},js=n=>(...e)=>M.asap(()=>n(...e)),Bu=ve.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ve.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,Fu=ve.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];M.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),M.isString(i)&&o.push("path="+i),M.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zu(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function _u(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function la(n,e,t){let i=!zu(e);return n&&(i||t==!1)?_u(n,e):e}const Ws=n=>n instanceof Le?{...n}:n;function Pt(n,e){e=e||{};const t={};function i(l,d,f,v){return M.isPlainObject(l)&&M.isPlainObject(d)?M.merge.call({caseless:v},l,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function r(l,d,f,v){if(M.isUndefined(d)){if(!M.isUndefined(l))return i(void 0,l,f,v)}else return i(l,d,f,v)}function s(l,d){if(!M.isUndefined(d))return i(void 0,d)}function o(l,d){if(M.isUndefined(d)){if(!M.isUndefined(l))return i(void 0,l)}else return i(void 0,d)}function a(l,d,f){if(f in e)return i(l,d);if(f in n)return i(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,d,f)=>r(Ws(l),Ws(d),f,!0)};return M.forEach(Object.keys(Object.assign({},n,e)),function(d){const f=c[d]||r,v=f(n[d],e[d],d);M.isUndefined(v)&&f!==a||(t[d]=v)}),t}const ca=n=>{const e=Pt({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Le.from(o),e.url=na(la(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(M.isFormData(t)){if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...d].join("; "))}}if(ve.hasStandardBrowserEnv&&(i&&M.isFunction(i)&&(i=i(e)),i||i!==!1&&Bu(e.url))){const l=r&&s&&Fu.read(s);l&&o.set(r,l)}return e},Hu=typeof XMLHttpRequest<"u",ju=Hu&&function(n){return new Promise(function(t,i){const r=ca(n);let s=r.data;const o=Le.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=r,d,f,v,g,u;function h(){g&&g(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout;function y(){if(!p)return;const m=Le.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:m,config:n,request:p};aa(function(R){t(R),h()},function(R){i(R),h()},S),p=null}"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(y)},p.onabort=function(){p&&(i(new q("Request aborted",q.ECONNABORTED,n,p)),p=null)},p.onerror=function(){i(new q("Network Error",q.ERR_NETWORK,n,p)),p=null},p.ontimeout=function(){let w=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||ra;r.timeoutErrorMessage&&(w=r.timeoutErrorMessage),i(new q(w,S.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,n,p)),p=null},s===void 0&&o.setContentType(null),"setRequestHeader"in p&&M.forEach(o.toJSON(),function(w,S){p.setRequestHeader(S,w)}),M.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),a&&a!=="json"&&(p.responseType=r.responseType),l&&([v,u]=Ki(l,!0),p.addEventListener("progress",v)),c&&p.upload&&([f,g]=Ki(c),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=m=>{p&&(i(!m||m.type?new Yt(null,n,p):m),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const b=Ou(r.url);if(b&&ve.protocols.indexOf(b)===-1){i(new q("Unsupported protocol "+b+":",q.ERR_BAD_REQUEST,n));return}p.send(s||null)})},Wu=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(l){if(!r){r=!0,a();const d=l instanceof Error?l:this.reason;i.abort(d instanceof q?d:new Yt(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new q(`timeout ${e} of ms exceeded`,q.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),n=null)};n.forEach(l=>l.addEventListener("abort",s));const{signal:c}=i;return c.unsubscribe=()=>M.asap(a),c}},$u=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},Vu=async function*(n,e){for await(const t of qu(n))yield*$u(t,e)},qu=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},$s=(n,e,t,i)=>{const r=Vu(n,e);let s=0,o,a=c=>{o||(o=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:l,value:d}=await r.next();if(l){a(),c.close();return}let f=d.byteLength;if(t){let v=s+=f;t(v)}c.enqueue(new Uint8Array(d))}catch(l){throw a(l),l}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},un=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ua=un&&typeof ReadableStream=="function",Uu=un&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),da=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Gu=ua&&da(()=>{let n=!1;const e=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Vs=64*1024,vr=ua&&da(()=>M.isReadableStream(new Response("").body)),Ji={stream:vr&&(n=>n.body)};un&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ji[e]&&(Ji[e]=M.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,i)})})})(new Response);const Xu=async n=>{if(n==null)return 0;if(M.isBlob(n))return n.size;if(M.isSpecCompliantForm(n))return(await new Request(ve.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(M.isArrayBufferView(n)||M.isArrayBuffer(n))return n.byteLength;if(M.isURLSearchParams(n)&&(n=n+""),M.isString(n))return(await Uu(n)).byteLength},Yu=async(n,e)=>{const t=M.toFiniteNumber(n.getContentLength());return t??Xu(e)},Ku=un&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:d,withCredentials:f="same-origin",fetchOptions:v}=ca(n);l=l?(l+"").toLowerCase():"text";let g=Wu([r,s&&s.toAbortSignal()],o),u;const h=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let p;try{if(c&&Gu&&t!=="get"&&t!=="head"&&(p=await Yu(d,i))!==0){let S=new Request(e,{method:"POST",body:i,duplex:"half"}),D;if(M.isFormData(i)&&(D=S.headers.get("content-type"))&&d.setContentType(D),S.body){const[R,O]=Hs(p,Ki(js(c)));i=$s(S.body,Vs,R,O)}}M.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;u=new Request(e,{...v,signal:g,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:y?f:void 0});let b=await fetch(u);const m=vr&&(l==="stream"||l==="response");if(vr&&(a||m&&h)){const S={};["status","statusText","headers"].forEach(L=>{S[L]=b[L]});const D=M.toFiniteNumber(b.headers.get("content-length")),[R,O]=a&&Hs(D,Ki(js(a),!0))||[];b=new Response($s(b.body,Vs,R,()=>{O&&O(),h&&h()}),S)}l=l||"text";let w=await Ji[M.findKey(Ji,l)||"text"](b,n);return!m&&h&&h(),await new Promise((S,D)=>{aa(S,D,{data:w,headers:Le.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:u})})}catch(y){throw h&&h(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,n,u),{cause:y.cause||y}):q.from(y,y&&y.code,n,u)}}),yr={http:du,xhr:ju,fetch:Ku};M.forEach(yr,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const qs=n=>`- ${n}`,Ju=n=>M.isFunction(n)||n===null||n===!1,ha={getAdapter:n=>{n=M.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!Ju(t)&&(i=yr[(o=String(t)).toLowerCase()],i===void 0))throw new q(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(qs).join(`
`):" "+qs(s[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:yr};function Gn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Yt(null,n)}function Us(n){return Gn(n),n.headers=Le.from(n.headers),n.data=Un.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ha.getAdapter(n.adapter||Ti.adapter)(n).then(function(i){return Gn(n),i.data=Un.call(n,n.transformResponse,i),i.headers=Le.from(i.headers),i},function(i){return oa(i)||(Gn(n),i&&i.response&&(i.response.data=Un.call(n,n.transformResponse,i.response),i.response.headers=Le.from(i.response.headers))),Promise.reject(i)})}const fa="1.8.4",dn={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{dn[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Gs={};dn.transitional=function(e,t,i){function r(s,o){return"[Axios v"+fa+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new q(r(o," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!Gs[o]&&(Gs[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};dn.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Zu(n,e,t){if(typeof n!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new q("option "+s+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new q("Unknown option "+s,q.ERR_BAD_OPTION)}}const Wi={assertOptions:Zu,validators:dn},Ye=Wi.validators;let Lt=class{constructor(e){this.defaults=e,this.interceptors={request:new zs,response:new zs}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Pt(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&Wi.assertOptions(i,{silentJSONParsing:Ye.transitional(Ye.boolean),forcedJSONParsing:Ye.transitional(Ye.boolean),clarifyTimeoutError:Ye.transitional(Ye.boolean)},!1),r!=null&&(M.isFunction(r)?t.paramsSerializer={serialize:r}:Wi.assertOptions(r,{encode:Ye.function,serialize:Ye.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Wi.assertOptions(t,{baseUrl:Ye.spelling("baseURL"),withXsrfToken:Ye.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[t.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],u=>{delete s[u]}),t.headers=Le.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});const l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let d,f=0,v;if(!c){const u=[Us.bind(this),void 0];for(u.unshift.apply(u,a),u.push.apply(u,l),v=u.length,d=Promise.resolve(t);f<v;)d=d.then(u[f++],u[f++]);return d}v=a.length;let g=t;for(f=0;f<v;){const u=a[f++],h=a[f++];try{g=u(g)}catch(p){h.call(this,p);break}}try{d=Us.call(this,g)}catch(u){return Promise.reject(u)}for(f=0,v=l.length;f<v;)d=d.then(l[f++],l[f++]);return d}getUri(e){e=Pt(this.defaults,e);const t=la(e.baseURL,e.url,e.allowAbsoluteUrls);return na(t,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Lt.prototype[e]=function(t,i){return this.request(Pt(i||{},{method:e,url:t,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Pt(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lt.prototype[e]=t(),Lt.prototype[e+"Form"]=t(!0)});let Qu=class pa{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Yt(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pa(function(r){e=r}),cancel:e}}};function ed(n){return function(t){return n.apply(null,t)}}function td(n){return M.isObject(n)&&n.isAxiosError===!0}const wr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wr).forEach(([n,e])=>{wr[e]=n});function ma(n){const e=new Lt(n),t=Uo(Lt.prototype.request,e);return M.extend(t,Lt.prototype,e,{allOwnKeys:!0}),M.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return ma(Pt(n,r))},t}const le=ma(Ti);le.Axios=Lt;le.CanceledError=Yt;le.CancelToken=Qu;le.isCancel=oa;le.VERSION=fa;le.toFormData=cn;le.AxiosError=q;le.Cancel=le.CanceledError;le.all=function(e){return Promise.all(e)};le.spread=ed;le.isAxiosError=td;le.mergeConfig=Pt;le.AxiosHeaders=Le;le.formToJSON=n=>sa(M.isHTMLForm(n)?new FormData(n):n);le.getAdapter=ha.getAdapter;le.HttpStatusCode=wr;le.default=le;const{Axios:Kh,AxiosError:Jh,CanceledError:Zh,isCancel:Qh,CancelToken:ef,VERSION:tf,all:nf,Cancel:rf,isAxiosError:sf,spread:of,toFormData:af,AxiosHeaders:lf,HttpStatusCode:cf,formToJSON:uf,getAdapter:df,mergeConfig:hf}=le;window.axios=le;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Xs(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function _r(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Xs(e[i])&&Xs(n[i])&&Object.keys(e[i]).length>0&&_r(n[i],e[i])})}const ga={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function me(){const n=typeof document<"u"?document:{};return _r(n,ga),n}const id={document:ga,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ne(){const n=typeof window<"u"?window:{};return _r(n,id),n}function ht(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function nd(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ot(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function ze(){return Date.now()}function rd(n){const e=ne();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function xr(n,e){e===void 0&&(e="x");const t=ne();let i,r,s;const o=rd(n);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function li(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function sd(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ke(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!sd(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],c=Object.getOwnPropertyDescriptor(i,a);c!==void 0&&c.enumerable&&(li(n[a])&&li(i[a])?i[a].__swiper__?n[a]=i[a]:ke(n[a],i[a]):!li(n[a])&&li(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:ke(n[a],i[a])):n[a]=i[a])}}}return n}function ci(n,e,t){n.style.setProperty(e,t)}function ba(n){let{swiper:e,targetPosition:t,side:i}=n;const r=ne(),s=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",d=(v,g)=>l==="next"&&v>=g||l==="prev"&&v<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);const v=Math.max(Math.min((a-o)/c,1),0),g=.5-Math.cos(v*Math.PI)/2;let u=s+g*(t-s);if(d(u,t)&&(u=t),e.wrapperEl.scrollTo({[i]:u}),d(u,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:u})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function Ft(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function ge(n,e){e===void 0&&(e="");const t=ne(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(r=>r.matches(e)):i}function od(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function ad(n,e){const t=ne();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=od(n,e))),i}function Zi(n){try{console.warn(n);return}catch{}}function De(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:ht(e)),t}function Qi(n){const e=ne(),t=me(),i=n.getBoundingClientRect(),r=t.body,s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,c=n===e?e.scrollX:n.scrollLeft;return{top:i.top+a-s,left:i.left+c-o}}function ld(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function cd(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function mt(n,e){return ne().getComputedStyle(n,null).getPropertyValue(e)}function xi(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Mt(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function bi(n,e){function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Sr(n,e,t){const i=ne();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function J(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function hn(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let Xn;function ud(){const n=ne(),e=me();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function va(){return Xn||(Xn=ud()),Xn}let Yn;function dd(n){let{userAgent:e}=n===void 0?{}:n;const t=va(),i=ne(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,c=i.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),v=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let u=r==="MacIntel";const h=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&u&&t.touch&&h.indexOf(`${a}x${c}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),u=!1),l&&!g&&(o.os="android",o.android=!0),(d||v||f)&&(o.os="ios",o.ios=!0),o}function ya(n){return n===void 0&&(n={}),Yn||(Yn=dd(n)),Yn}let Kn;function hd(){const n=ne(),e=ya();let t=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[c,l]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=c<16||c===16&&l<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:r}}function wa(){return Kn||(Kn=hd()),Kn}function fd(n){let{swiper:e,on:t,emit:i}=n;const r=ne();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=r.requestAnimationFrame(()=>{const{width:v,height:g}=e;let u=v,h=g;f.forEach(p=>{let{contentBoxSize:y,contentRect:b,target:m}=p;m&&m!==e.el||(u=b?b.width:(y[0]||y).inlineSize,h=b?b.height:(y[0]||y).blockSize)}),(u!==v||h!==g)&&a()})}),s.observe(e.el))},l=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),t("destroy",()=>{l(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function pd(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],o=ne(),a=function(d,f){f===void 0&&(f={});const v=o.MutationObserver||o.WebkitMutationObserver,g=new v(u=>{if(e.__preventObserver__)return;if(u.length===1){r("observerUpdate",u[0]);return}const h=function(){r("observerUpdate",u[0])};o.requestAnimationFrame?o.requestAnimationFrame(h):o.setTimeout(h,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=Mt(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",c),i("destroy",l)}var md={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(l=>{l.apply(i,[c,...t])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(l=>{l.apply(i,t)})}),n}};function gd(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(mt(i,"padding-left")||0,10)-parseInt(mt(i,"padding-right")||0,10),t=t-parseInt(mt(i,"padding-top")||0,10)-parseInt(mt(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function bd(){const n=this;function e(T,N){return parseFloat(T.getPropertyValue(n.getDirectionLabel(N))||0)}const t=n.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=n,c=n.virtual&&t.virtual.enabled,l=c?n.virtual.slides.length:n.slides.length,d=ge(r,`.${n.params.slideClass}, swiper-slide`),f=c?n.virtual.slides.length:d.length;let v=[];const g=[],u=[];let h=t.slidesOffsetBefore;typeof h=="function"&&(h=t.slidesOffsetBefore.call(n));let p=t.slidesOffsetAfter;typeof p=="function"&&(p=t.slidesOffsetAfter.call(n));const y=n.snapGrid.length,b=n.slidesGrid.length;let m=t.spaceBetween,w=-h,S=0,D=0;if(typeof s>"u")return;typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*s:typeof m=="string"&&(m=parseFloat(m)),n.virtualSize=-m,d.forEach(T=>{o?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(ci(i,"--swiper-centered-offset-before",""),ci(i,"--swiper-centered-offset-after",""));const R=t.grid&&t.grid.rows>1&&n.grid;R?n.grid.initSlides(d):n.grid&&n.grid.unsetSlides();let O;const L=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(T=>typeof t.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<f;T+=1){O=0;let N;if(d[T]&&(N=d[T]),R&&n.grid.updateSlide(T,N,d),!(d[T]&&mt(N,"display")==="none")){if(t.slidesPerView==="auto"){L&&(d[T].style[n.getDirectionLabel("width")]="");const C=getComputedStyle(N),k=N.style.transform,I=N.style.webkitTransform;if(k&&(N.style.transform="none"),I&&(N.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?Sr(N,"width"):Sr(N,"height");else{const B=e(C,"width"),z=e(C,"padding-left"),E=e(C,"padding-right"),A=e(C,"margin-left"),H=e(C,"margin-right"),$=C.getPropertyValue("box-sizing");if($&&$==="border-box")O=B+A+H;else{const{clientWidth:te,offsetWidth:X}=N;O=B+z+E+A+H+(X-te)}}k&&(N.style.transform=k),I&&(N.style.webkitTransform=I),t.roundLengths&&(O=Math.floor(O))}else O=(s-(t.slidesPerView-1)*m)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),d[T]&&(d[T].style[n.getDirectionLabel("width")]=`${O}px`);d[T]&&(d[T].swiperSlideSize=O),u.push(O),t.centeredSlides?(w=w+O/2+S/2+m,S===0&&T!==0&&(w=w-s/2-m),T===0&&(w=w-s/2-m),Math.abs(w)<1/1e3&&(w=0),t.roundLengths&&(w=Math.floor(w)),D%t.slidesPerGroup===0&&v.push(w),g.push(w)):(t.roundLengths&&(w=Math.floor(w)),(D-Math.min(n.params.slidesPerGroupSkip,D))%n.params.slidesPerGroup===0&&v.push(w),g.push(w),w=w+O+m),n.virtualSize+=O+m,S=O,D+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+p,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+m}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+m}px`),R&&n.grid.updateWrapperSize(O,v),!t.centeredSlides){const T=[];for(let N=0;N<v.length;N+=1){let C=v[N];t.roundLengths&&(C=Math.floor(C)),v[N]<=n.virtualSize-s&&T.push(C)}v=T,Math.floor(n.virtualSize-s)-Math.floor(v[v.length-1])>1&&v.push(n.virtualSize-s)}if(c&&t.loop){const T=u[0]+m;if(t.slidesPerGroup>1){const N=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),C=T*t.slidesPerGroup;for(let k=0;k<N;k+=1)v.push(v[v.length-1]+C)}for(let N=0;N<n.virtual.slidesBefore+n.virtual.slidesAfter;N+=1)t.slidesPerGroup===1&&v.push(v[v.length-1]+T),g.push(g[g.length-1]+T),n.virtualSize+=T}if(v.length===0&&(v=[0]),m!==0){const T=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");d.filter((N,C)=>!t.cssMode||t.loop?!0:C!==d.length-1).forEach(N=>{N.style[T]=`${m}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let T=0;u.forEach(C=>{T+=C+(m||0)}),T-=m;const N=T>s?T-s:0;v=v.map(C=>C<=0?-h:C>N?N+p:C)}if(t.centerInsufficientSlides){let T=0;u.forEach(C=>{T+=C+(m||0)}),T-=m;const N=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(T+N<s){const C=(s-T-N)/2;v.forEach((k,I)=>{v[I]=k-C}),g.forEach((k,I)=>{g[I]=k+C})}}if(Object.assign(n,{slides:d,snapGrid:v,slidesGrid:g,slidesSizesGrid:u}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){ci(i,"--swiper-centered-offset-before",`${-v[0]}px`),ci(i,"--swiper-centered-offset-after",`${n.size/2-u[u.length-1]/2}px`);const T=-n.snapGrid[0],N=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(C=>C+T),n.slidesGrid=n.slidesGrid.map(C=>C+N)}if(f!==l&&n.emit("slidesLengthChange"),v.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),g.length!==b&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!c&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const T=`${t.containerModifierClass}backface-hidden`,N=n.el.classList.contains(T);f<=t.maxBackfaceHiddenSlides?N||n.el.classList.add(T):N&&n.el.classList.remove(T)}}function vd(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function yd(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const Ys=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function wd(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;r&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<i.length;c+=1){const l=i[c];let d=l.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=i[0].swiperSlideOffset);const f=(o+(t.centeredSlides?e.minTranslate():0)-d)/(l.swiperSlideSize+a),v=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-d)/(l.swiperSlideSize+a),g=-(o-d),u=g+e.slidesSizesGrid[c],h=g>=0&&g<=e.size-e.slidesSizesGrid[c],p=g>=0&&g<e.size-1||u>1&&u<=e.size||g<=0&&u>=e.size;p&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(c)),Ys(l,p,t.slideVisibleClass),Ys(l,h,t.slideFullyVisibleClass),l.progress=r?-f:f,l.originalProgress=r?-v:v}}function xd(n){const e=this;if(typeof n>"u"){const d=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*d||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const c=s,l=o;if(i===0)r=0,s=!0,o=!0;else{r=(n-e.minTranslate())/i;const d=Math.abs(n-e.minTranslate())<1,f=Math.abs(n-e.maxTranslate())<1;s=d||r<=0,o=f||r>=1,d&&(r=0),f&&(r=1)}if(t.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),v=e.slidesGrid[d],g=e.slidesGrid[f],u=e.slidesGrid[e.slidesGrid.length-1],h=Math.abs(n);h>=v?a=(h-v)/u:a=(h+u-g)/u,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!c&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(c&&!s||l&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const Jn=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Sd(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,s=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=f=>ge(i,`.${t.slideClass}${f}, swiper-slide${f}`)[0];let c,l,d;if(s)if(t.loop){let f=r-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),c=a(`[data-swiper-slide-index="${f}"]`)}else c=a(`[data-swiper-slide-index="${r}"]`);else o?(c=e.find(f=>f.column===r),d=e.find(f=>f.column===r+1),l=e.find(f=>f.column===r-1)):c=e[r];c&&(o||(d=cd(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),l=ld(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!l===0&&(l=e[e.length-1]))),e.forEach(f=>{Jn(f,f===c,t.slideActiveClass),Jn(f,f===d,t.slideNextClass),Jn(f,f===l,t.slidePrevClass)}),n.emitSlidesClasses()}const $i=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Zn=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Er=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((c,l)=>o+i+l)),n.slides.forEach((c,l)=>{a.includes(c.column)&&Zn(n,l)});return}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&Zn(n,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&Zn(n,o)};function Ed(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Ad(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let c=n,l;const d=g=>{let u=g-e.virtual.slidesBefore;return u<0&&(u=e.virtual.slides.length+u),u>=e.virtual.slides.length&&(u-=e.virtual.slides.length),u};if(typeof c>"u"&&(c=Ed(e)),i.indexOf(t)>=0)l=i.indexOf(t);else{const g=Math.min(r.slidesPerGroupSkip,c);l=g+Math.floor((c-g)/r.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),c===s&&!e.params.loop){l!==a&&(e.snapIndex=l,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&r.grid&&r.grid.rows>1;let v;if(e.virtual&&r.virtual.enabled&&r.loop)v=d(c);else if(f){const g=e.slides.find(h=>h.column===c);let u=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(u)&&(u=Math.max(e.slides.indexOf(g),0)),v=Math.floor(u/r.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?v=parseInt(g,10):v=c}else v=c;Object.assign(e,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:v,previousIndex:s,activeIndex:c}),e.initialized&&Er(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==v&&e.emit("realIndexChange"),e.emit("slideChange"))}function Td(n,e){const t=this,i=t.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,o=a;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Cd={updateSize:gd,updateSlides:bd,updateAutoHeight:vd,updateSlidesOffset:yd,updateSlidesProgress:wd,updateProgress:xd,updateSlidesClasses:Sd,updateActiveIndex:Ad,updateClickedSlide:Td};function Ld(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let o=xr(s,n);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function Md(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=t;let a=0,c=0;const l=0;t.isHorizontal()?a=i?-n:n:c=n,r.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:c,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-c:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():c-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${c}px, ${l}px)`);let d;const f=t.maxTranslate()-t.minTranslate();f===0?d=0:d=(n-t.minTranslate())/f,d!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Rd(){return-this.snapGrid[0]}function kd(){return-this.snapGrid[this.snapGrid.length-1]}function Dd(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),l=s.maxTranslate();let d;if(i&&n>c?d=c:i&&n<l?d=l:d=n,s.updateProgress(d),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return ba({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(v){!s||s.destroyed||v.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Pd={getTranslate:Ld,setTranslate:Md,minTranslate:Rd,maxTranslate:kd,translateTo:Dd};function Od(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function xa(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),t&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function Id(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),xa({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Nd(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),xa({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Bd={setTransition:Od,transitionStart:Id,transitionEnd:Nd};function Fd(n,e,t,i,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:d,activeIndex:f,rtlTranslate:v,wrapperEl:g,enabled:u}=s;if(!u&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const h=Math.min(s.params.slidesPerGroupSkip,o);let p=h+Math.floor((o-h)/s.params.slidesPerGroup);p>=c.length&&(p=c.length-1);const y=-c[p];if(a.normalizeSlideIndex)for(let R=0;R<l.length;R+=1){const O=-Math.floor(y*100),L=Math.floor(l[R]*100),T=Math.floor(l[R+1]*100);typeof l[R+1]<"u"?O>=L&&O<T-(T-L)/2?o=R:O>=L&&O<T&&(o=R+1):O>=L&&(o=R)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(v?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let b;o>f?b="next":o<f?b="prev":b="reset";const m=s.virtual&&s.params.virtual.enabled;if(!(m&&r)&&(v&&-y===s.translate||!v&&y===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(y),b!=="reset"&&(s.transitionStart(t,b),s.transitionEnd(t,b)),!1;if(a.cssMode){const R=s.isHorizontal(),O=v?y:-y;if(e===0)m&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),m&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[R?"scrollLeft":"scrollTop"]=O})):g[R?"scrollLeft":"scrollTop"]=O,m&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return ba({swiper:s,targetPosition:O,side:R?"left":"top"}),!0;g.scrollTo({[R?"left":"top"]:O,behavior:"smooth"})}return!0}const D=wa().isSafari;return m&&!r&&D&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,b),e===0?s.transitionEnd(t,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(O){!s||s.destroyed||O.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,b))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function zd(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const v=o*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===v).column}else a=r.getSlideIndexByData(o);const c=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:l}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),l&&d%2===0&&(d=d+1));let f=c-a<d;if(l&&(f=f||a<Math.ceil(d/2)),i&&l&&r.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const v=l?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?a+1:a-c+1,slideRealIndex:v==="next"?r.realIndex:void 0})}if(s){const v=o*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===v).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,t,i)}),r}function _d(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<s.slidesPerGroupSkip?1:a,l=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!l&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+c,n,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+c,n,e,t)}function Hd(n,e,t){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:c,animating:l}=i;if(!c||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const d=i.virtual&&r.virtual.enabled;if(r.loop){if(l&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const f=a?i.translate:-i.translate;function v(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const g=v(f),u=s.map(b=>v(b)),h=r.freeMode&&r.freeMode.enabled;let p=s[u.indexOf(g)-1];if(typeof p>"u"&&(r.cssMode||h)){let b;s.forEach((m,w)=>{g>=m&&(b=w)}),typeof b<"u"&&(p=h?s[b]:s[b>0?b-1:b])}let y=0;if(typeof p<"u"&&(y=o.indexOf(p),y<0&&(y=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(y=y-i.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),r.rewind&&i.isBeginning){const b=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(b,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(y,n,e,t)}),!0;return i.slideTo(y,n,e,t)}function jd(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function Wd(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof n>"u"&&(n=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[a]){const l=r.snapGrid[a],d=r.snapGrid[a+1];c-l>(d-l)*i&&(s+=r.params.slidesPerGroup)}else{const l=r.snapGrid[a-1],d=r.snapGrid[a];c-l<=(d-l)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)}function $d(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let r=n.clickedIndex,s;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(ge(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ot(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(ge(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ot(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var Vd={slideTo:Fd,slideToLoop:zd,slideNext:_d,slidePrev:Hd,slideReset:jd,slideToClosest:Wd,slideToClickedSlide:$d};function qd(n,e){const t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{ge(r,`.${i.slideClass}, swiper-slide`).forEach((v,g)=>{v.setAttribute("data-swiper-slide-index",g)})},o=t.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(o?i.grid.rows:1),c=t.slides.length%a!==0,l=o&&t.slides.length%i.grid.rows!==0,d=f=>{for(let v=0;v<f;v+=1){const g=t.isElement?De("swiper-slide",[i.slideBlankClass]):De("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(g)}};if(c){if(i.loopAddBlankSlides){const f=a-t.slides.length%a;d(f),t.recalcSlides(),t.updateSlides()}else Zi("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(i.loopAddBlankSlides){const f=i.grid.rows-t.slides.length%i.grid.rows;d(f),t.recalcSlides(),t.updateSlides()}else Zi("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:n,direction:i.centeredSlides?void 0:"next",initial:e})}function Ud(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:c}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:v,slidesEl:g,params:u}=l,{centeredSlides:h,initialSlide:p}=u;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&u.virtual.enabled){t&&(!u.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):u.centeredSlides&&l.snapIndex<u.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=f,l.allowSlideNext=v,l.emit("loopFix");return}let y=u.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(u.slidesPerView,10)),h&&y%2===0&&(y=y+1));const b=u.slidesPerGroupAuto?y:u.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=u.loopAdditionalSlides,l.loopedSlides=m;const w=l.grid&&u.grid&&u.grid.rows>1;d.length<y+m||l.params.effect==="cards"&&d.length<y+m*2?Zi("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&u.grid.fill==="row"&&Zi("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const S=[],D=[],R=w?Math.ceil(d.length/u.grid.rows):d.length,O=o&&R-p<y&&!h;let L=O?p:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(d.find(z=>z.classList.contains(u.slideActiveClass))):L=s;const T=i==="next"||!i,N=i==="prev"||!i;let C=0,k=0;const B=(w?d[s].column:s)+(h&&typeof r>"u"?-y/2+.5:0);if(B<m){C=Math.max(m-B,b);for(let z=0;z<m-B;z+=1){const E=z-Math.floor(z/R)*R;if(w){const A=R-E-1;for(let H=d.length-1;H>=0;H-=1)d[H].column===A&&S.push(H)}else S.push(R-E-1)}}else if(B+y>R-m){k=Math.max(B-(R-m*2),b),O&&(k=Math.max(k,y-R+p+1));for(let z=0;z<k;z+=1){const E=z-Math.floor(z/R)*R;w?d.forEach((A,H)=>{A.column===E&&D.push(H)}):D.push(E)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&d.length<y+m*2&&(D.includes(s)&&D.splice(D.indexOf(s),1),S.includes(s)&&S.splice(S.indexOf(s),1)),N&&S.forEach(z=>{d[z].swiperLoopMoveDOM=!0,g.prepend(d[z]),d[z].swiperLoopMoveDOM=!1}),T&&D.forEach(z=>{d[z].swiperLoopMoveDOM=!0,g.append(d[z]),d[z].swiperLoopMoveDOM=!1}),l.recalcSlides(),u.slidesPerView==="auto"?l.updateSlides():w&&(S.length>0&&N||D.length>0&&T)&&l.slides.forEach((z,E)=>{l.grid.updateSlide(E,z,l.slides)}),u.watchSlidesProgress&&l.updateSlidesOffset(),t){if(S.length>0&&N){if(typeof e>"u"){const z=l.slidesGrid[L],A=l.slidesGrid[L+C]-z;c?l.setTranslate(l.translate-A):(l.slideTo(L+Math.ceil(C),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-A,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-A))}else if(r){const z=w?S.length/u.grid.rows:S.length;l.slideTo(l.activeIndex+z,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(D.length>0&&T)if(typeof e>"u"){const z=l.slidesGrid[L],A=l.slidesGrid[L-k]-z;c?l.setTranslate(l.translate-A):(l.slideTo(L-k,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-A,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-A))}else{const z=w?D.length/u.grid.rows:D.length;l.slideTo(l.activeIndex-z,0,!1,!0)}}if(l.allowSlidePrev=f,l.allowSlideNext=v,l.controller&&l.controller.control&&!a){const z={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(E=>{!E.destroyed&&E.params.loop&&E.loopFix({...z,slideTo:E.params.slidesPerView===u.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...z,slideTo:l.controller.control.params.slidesPerView===u.slidesPerView?t:!1})}l.emit("loopFix")}function Gd(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Xd={loopCreate:qd,loopFix:Ud,loopDestroy:Gd};function Yd(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Kd(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Jd={setGrabCursor:Yd,unsetGrabCursor:Kd};function Zd(n,e){e===void 0&&(e=this);function t(i){if(!i||i===me()||i===ne())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function Ks(n,e,t){const i=ne(),{params:r}=n,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(t<=o||t>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Qd(n){const e=this,t=me();let i=n;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ks(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=i.target;if(s.touchEventsTarget==="wrapper"&&!ad(c,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const l=!!s.noSwipingClass&&s.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;l&&i.target&&i.target.shadowRoot&&d&&(c=d[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,v=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(v?Zd(f,c):c.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const g=o.currentX,u=o.currentY;if(!Ks(e,i,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=u,r.touchStartTime=ze(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let h=!0;c.matches(r.focusableElements)&&(h=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!c.matches(r.focusableElements))&&t.activeElement.blur();const p=h&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||p)&&!c.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function eh(n){const e=me(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(i.touchId!==null||c.pointerId!==i.pointerId))return;let l;if(c.type==="touchmove"){if(l=[...c.changedTouches].find(S=>S.identifier===i.touchId),!l||l.identifier!==i.touchId)return}else l=c;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",c);return}const d=l.pageX,f=l.pageY;if(c.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!t.allowTouchMove){c.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),i.touchStartTime=ze());return}if(r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(f<s.startY&&t.translate<=t.maxTranslate()||f>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(d>s.startX&&-t.translate<=t.maxTranslate()||d<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;const v=s.currentX-s.startX,g=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(v**2+g**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let S;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:v*v+g*g>=25&&(S=Math.atan2(Math.abs(g),Math.abs(v))*180/Math.PI,i.isScrolling=t.isHorizontal()?S>r.touchAngle:90-S>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||c.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let u=t.isHorizontal()?v:g,h=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(u=Math.abs(u)*(o?1:-1),h=Math.abs(h)*(o?1:-1)),s.diff=u,u*=r.touchRatio,o&&(u=-u,h=-h);const p=t.touchesDirection;t.swipeDirection=u>0?"prev":"next",t.touchesDirection=h>0?"prev":"next";const y=t.params.loop&&!r.cssMode,b=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(y&&b&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(S)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",c)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&p!==t.touchesDirection&&y&&b&&Math.abs(u)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=u+i.startTranslate;let m=!0,w=r.resistanceRatio;if(r.touchReleaseOnEdges&&(w=0),u>0?(y&&b&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(m=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+u)**w))):u<0&&(y&&b&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(m=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-u)**w))),m&&(c.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(u)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function th(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(S=>S.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:l,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=ze(),v=f-t.touchStartTime;if(e.allowClick){const S=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(S&&S[0]||i.target,S),e.emit("tap click",i),v<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=ze(),Ot(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let g;if(o.followFinger?g=c?e.translate:-e.translate:g=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const u=g>=-e.maxTranslate()&&!e.params.loop;let h=0,p=e.slidesSizesGrid[0];for(let S=0;S<l.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const D=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof l[S+D]<"u"?(u||g>=l[S]&&g<l[S+D])&&(h=S,p=l[S+D]-l[S]):(u||g>=l[S])&&(h=S,p=l[l.length-1]-l[l.length-2])}let y=null,b=null;o.rewind&&(e.isBeginning?b=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const m=(g-l[h])/p,w=h<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(v>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(m>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?y:h+w):e.slideTo(h)),e.swipeDirection==="prev"&&(m>1-o.longSwipesRatio?e.slideTo(h+w):b!==null&&m<0&&Math.abs(m)>o.longSwipesRatio?e.slideTo(b):e.slideTo(h))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(h+w):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:h+w),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:h))}}function Js(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function ih(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function nh(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function rh(n){const e=this;$i(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function sh(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const Sa=(n,e)=>{const t=me(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",l=e;!r||typeof r=="string"||(t[c]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),r[c]("touchstart",n.onTouchStart,{passive:!1}),r[c]("pointerdown",n.onTouchStart,{passive:!1}),t[c]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[c]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[c]("touchend",n.onTouchEnd,{passive:!0}),t[c]("pointerup",n.onTouchEnd,{passive:!0}),t[c]("pointercancel",n.onTouchEnd,{passive:!0}),t[c]("touchcancel",n.onTouchEnd,{passive:!0}),t[c]("pointerout",n.onTouchEnd,{passive:!0}),t[c]("pointerleave",n.onTouchEnd,{passive:!0}),t[c]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",n.onClick,!0),i.cssMode&&s[c]("scroll",n.onScroll),i.updateOnWindowResize?n[l](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Js,!0):n[l]("observerUpdate",Js,!0),r[c]("load",n.onLoad,{capture:!0}))};function oh(){const n=this,{params:e}=n;n.onTouchStart=Qd.bind(n),n.onTouchMove=eh.bind(n),n.onTouchEnd=th.bind(n),n.onDocumentTouchStart=sh.bind(n),e.cssMode&&(n.onScroll=nh.bind(n)),n.onClick=ih.bind(n),n.onLoad=rh.bind(n),Sa(n,"on")}function ah(){Sa(this,"off")}var lh={attachEvents:oh,detachEvents:ah};const Zs=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function ch(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=me(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",c=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:o.querySelector(i.breakpointsBase),l=n.getBreakpoint(s,a,c);if(!l||n.currentBreakpoint===l)return;const f=(l in s?s[l]:void 0)||n.originalParams,v=Zs(n,i),g=Zs(n,f),u=n.params.grabCursor,h=f.grabCursor,p=i.enabled;v&&!g?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!v&&g&&(r.classList.add(`${i.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),u&&!h?n.unsetGrabCursor():!u&&h&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(D=>{if(typeof f[D]>"u")return;const R=i[D]&&i[D].enabled,O=f[D]&&f[D].enabled;R&&!O&&n[D].disable(),!R&&O&&n[D].enable()});const y=f.direction&&f.direction!==i.direction,b=i.loop&&(f.slidesPerView!==i.slidesPerView||y),m=i.loop;y&&t&&n.changeDirection(),ke(n.params,f);const w=n.params.enabled,S=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),p&&!w?n.disable():!p&&w&&n.enable(),n.currentBreakpoint=l,n.emit("_beforeBreakpoint",f),t&&(b?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!m&&S?(n.loopCreate(e),n.updateSlides()):m&&!S&&n.loopDestroy()),n.emit("breakpoint",f)}function uh(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const r=ne(),s=e==="window"?r.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:s*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:l}=o[a];e==="window"?r.matchMedia(`(min-width: ${l}px)`).matches&&(i=c):l<=t.clientWidth&&(i=c)}return i||"max"}var dh={setBreakpoint:ch,getBreakpoint:uh};function hh(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function fh(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,o=hh(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),n.emitContainerClasses()}function ph(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var mh={addClasses:fh,removeClasses:ph};function gh(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var bh={checkOverflow:gh},Qs={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vh(n,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){ke(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in s)){ke(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ke(e,i)}}const Qn={eventsEmitter:md,update:Cd,translate:Pd,transition:Bd,slide:Vd,loop:Xd,grabCursor:Jd,events:lh,breakpoints:dh,checkOverflow:bh,classes:mh},er={};class Ce{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=ke({},t),e&&!t.el&&(t.el=e);const o=me();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const d=[];return o.querySelectorAll(t.el).forEach(f=>{const v=ke({},t,{el:f});d.push(new Ce(v))}),d}const a=this;a.__swiper__=!0,a.support=va(),a.device=ya({userAgent:t.userAgent}),a.browser=wa(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const c={};a.modules.forEach(d=>{d({params:t,swiper:a,extendParams:vh(t,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const l=ke({},Qs,c);return a.params=ke({},l,er,t),a.originalParams=ke({},a.params),a.passedParams=ke({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,r=ge(t,`.${i.slideClass}, swiper-slide`),s=xi(r[0]);return xi(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=ge(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:l}=i;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=s[l]?Math.ceil(s[l].swiperSlideSize):0,v;for(let g=l+1;g<s.length;g+=1)s[g]&&!v&&(f+=Math.ceil(s[g].swiperSlideSize),d+=1,f>c&&(v=!0));for(let g=l-1;g>=0;g-=1)s[g]&&!v&&(f+=s[g].swiperSlideSize,d+=1,f>c&&(v=!0))}else if(e==="current")for(let f=l+1;f<s.length;f+=1)(t?o[f]+a[f]-o[l]<c:o[f]-o[l]<c)&&(d+=1);else for(let f=l-1;f>=0;f-=1)o[l]-o[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&$i(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):ge(i,r())[0];return!o&&t.params.createElements&&(o=De("div",t.params.wrapperClass),i.append(o),ge(i,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||mt(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||mt(i,"direction")==="rtl"),wrongRTL:mt(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?$i(t,s):s.addEventListener("load",o=>{$i(t,o.target)})}),Er(t),t.initialized=!0,Er(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),nd(i)),i.destroyed=!0),null}static extendDefaults(e){ke(er,e)}static get extendedDefaults(){return er}static get defaults(){return Qs}static installModule(e){Ce.prototype.__modules__||(Ce.prototype.__modules__=[]);const t=Ce.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ce.installModule(t)),Ce):(Ce.installModule(e),Ce)}}Object.keys(Qn).forEach(n=>{Object.keys(Qn[n]).forEach(e=>{Ce.prototype[e]=Qn[n][e]})});Ce.use([fd,pd]);function yh(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s;const o=me();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function c(u,h){const p=e.params.virtual;if(p.cache&&e.virtual.cache[h])return e.virtual.cache[h];let y;return p.renderSlide?(y=p.renderSlide.call(e,u,h),typeof y=="string"&&(a.innerHTML=y,y=a.children[0])):e.isElement?y=De("swiper-slide"):y=De("div",e.params.slideClass),y.setAttribute("data-swiper-slide-index",h),p.renderSlide||(y.innerHTML=u),p.cache&&(e.virtual.cache[h]=y),y}function l(u,h,p){const{slidesPerView:y,slidesPerGroup:b,centeredSlides:m,loop:w,initialSlide:S}=e.params;if(h&&!w&&S>0)return;const{addSlidesBefore:D,addSlidesAfter:R}=e.params.virtual,{from:O,to:L,slides:T,slidesGrid:N,offset:C}=e.virtual;e.params.cssMode||e.updateActiveIndex();const k=typeof p>"u"?e.activeIndex||0:p;let I;e.rtlTranslate?I="right":I=e.isHorizontal()?"left":"top";let B,z;m?(B=Math.floor(y/2)+b+R,z=Math.floor(y/2)+b+D):(B=y+(b-1)+R,z=(w?y:b)+D);let E=k-z,A=k+B;w||(E=Math.max(E,0),A=Math.min(A,T.length-1));let H=(e.slidesGrid[E]||0)-(e.slidesGrid[0]||0);w&&k>=z?(E-=z,m||(H+=e.slidesGrid[0])):w&&k<z&&(E=-z,m&&(H+=e.slidesGrid[0])),Object.assign(e.virtual,{from:E,to:A,offset:H,slidesGrid:e.slidesGrid,slidesBefore:z,slidesAfter:B});function $(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(O===E&&L===A&&!u){e.slidesGrid!==N&&H!==C&&e.slides.forEach(P=>{P.style[I]=`${H-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),r("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:H,from:E,to:A,slides:function(){const _=[];for(let U=E;U<=A;U+=1)_.push(T[U]);return _}()}),e.params.virtual.renderExternalUpdate?$():r("virtualUpdate");return}const te=[],X=[],Me=P=>{let _=P;return P<0?_=T.length+P:_>=T.length&&(_=_-T.length),_};if(u)e.slides.filter(P=>P.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(P=>{P.remove()});else for(let P=O;P<=L;P+=1)if(P<E||P>A){const _=Me(P);e.slides.filter(U=>U.matches(`.${e.params.slideClass}[data-swiper-slide-index="${_}"], swiper-slide[data-swiper-slide-index="${_}"]`)).forEach(U=>{U.remove()})}const re=w?-T.length:0,F=w?T.length*2:T.length;for(let P=re;P<F;P+=1)if(P>=E&&P<=A){const _=Me(P);typeof L>"u"||u?X.push(_):(P>L&&X.push(_),P<O&&te.push(_))}if(X.forEach(P=>{e.slidesEl.append(c(T[P],P))}),w)for(let P=te.length-1;P>=0;P-=1){const _=te[P];e.slidesEl.prepend(c(T[_],_))}else te.sort((P,_)=>_-P),te.forEach(P=>{e.slidesEl.prepend(c(T[P],P))});ge(e.slidesEl,".swiper-slide, swiper-slide").forEach(P=>{P.style[I]=`${H-Math.abs(e.cssOverflowAdjustment())}px`}),$()}function d(u){if(typeof u=="object"&&"length"in u)for(let h=0;h<u.length;h+=1)u[h]&&e.virtual.slides.push(u[h]);else e.virtual.slides.push(u);l(!0)}function f(u){const h=e.activeIndex;let p=h+1,y=1;if(Array.isArray(u)){for(let b=0;b<u.length;b+=1)u[b]&&e.virtual.slides.unshift(u[b]);p=h+u.length,y=u.length}else e.virtual.slides.unshift(u);if(e.params.virtual.cache){const b=e.virtual.cache,m={};Object.keys(b).forEach(w=>{const S=b[w],D=S.getAttribute("data-swiper-slide-index");D&&S.setAttribute("data-swiper-slide-index",parseInt(D,10)+y),m[parseInt(w,10)+y]=S}),e.virtual.cache=m}l(!0),e.slideTo(p,0)}function v(u){if(typeof u>"u"||u===null)return;let h=e.activeIndex;if(Array.isArray(u))for(let p=u.length-1;p>=0;p-=1)e.params.virtual.cache&&(delete e.virtual.cache[u[p]],Object.keys(e.virtual.cache).forEach(y=>{y>u&&(e.virtual.cache[y-1]=e.virtual.cache[y],e.virtual.cache[y-1].setAttribute("data-swiper-slide-index",y-1),delete e.virtual.cache[y])})),e.virtual.slides.splice(u[p],1),u[p]<h&&(h-=1),h=Math.max(h,0);else e.params.virtual.cache&&(delete e.virtual.cache[u],Object.keys(e.virtual.cache).forEach(p=>{p>u&&(e.virtual.cache[p-1]=e.virtual.cache[p],e.virtual.cache[p-1].setAttribute("data-swiper-slide-index",p-1),delete e.virtual.cache[p])})),e.virtual.slides.splice(u,1),u<h&&(h-=1),h=Math.max(h,0);l(!0),e.slideTo(h,0)}function g(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),l(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let u;if(typeof e.passedParams.virtual.slides>"u"){const h=[...e.slidesEl.children].filter(p=>p.matches(`.${e.params.slideClass}, swiper-slide`));h&&h.length&&(e.virtual.slides=[...h],u=!0,h.forEach((p,y)=>{p.setAttribute("data-swiper-slide-index",y),e.virtual.cache[y]=p,p.remove()}))}u||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,l(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{l()},100)):l())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&ci(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:d,prependSlide:f,removeSlide:v,removeAllSlides:g,update:l})}function wh(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=me(),o=ne();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!e.enabled)return;const{rtlTranslate:f}=e;let v=d;v.originalEvent&&(v=v.originalEvent);const g=v.keyCode||v.charCode,u=e.params.keyboard.pageUpDown,h=u&&g===33,p=u&&g===34,y=g===37,b=g===39,m=g===38,w=g===40;if(!e.allowSlideNext&&(e.isHorizontal()&&b||e.isVertical()&&w||p)||!e.allowSlidePrev&&(e.isHorizontal()&&y||e.isVertical()&&m||h))return!1;if(!(v.shiftKey||v.altKey||v.ctrlKey||v.metaKey)&&!(s.activeElement&&s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(h||p||y||b||m||w)){let S=!1;if(Mt(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&Mt(e.el,`.${e.params.slideActiveClass}`).length===0)return;const D=e.el,R=D.clientWidth,O=D.clientHeight,L=o.innerWidth,T=o.innerHeight,N=Qi(D);f&&(N.left-=D.scrollLeft);const C=[[N.left,N.top],[N.left+R,N.top],[N.left,N.top+O],[N.left+R,N.top+O]];for(let k=0;k<C.length;k+=1){const I=C[k];if(I[0]>=0&&I[0]<=L&&I[1]>=0&&I[1]<=T){if(I[0]===0&&I[1]===0)continue;S=!0}}if(!S)return}e.isHorizontal()?((h||p||y||b)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),((p||b)&&!f||(h||y)&&f)&&e.slideNext(),((h||y)&&!f||(p||b)&&f)&&e.slidePrev()):((h||p||m||w)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),(p||w)&&e.slideNext(),(h||m)&&e.slidePrev()),r("keyPress",g)}}function c(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function l(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&c()}),i("destroy",()=>{e.keyboard.enabled&&l()}),Object.assign(e.keyboard,{enable:c,disable:l})}function xh(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=ne();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=ze(),c;const l=[];function d(m){let R=0,O=0,L=0,T=0;return"detail"in m&&(O=m.detail),"wheelDelta"in m&&(O=-m.wheelDelta/120),"wheelDeltaY"in m&&(O=-m.wheelDeltaY/120),"wheelDeltaX"in m&&(R=-m.wheelDeltaX/120),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(R=O,O=0),L=R*10,T=O*10,"deltaY"in m&&(T=m.deltaY),"deltaX"in m&&(L=m.deltaX),m.shiftKey&&!L&&(L=T,T=0),(L||T)&&m.deltaMode&&(m.deltaMode===1?(L*=40,T*=40):(L*=800,T*=800)),L&&!R&&(R=L<1?-1:1),T&&!O&&(O=T<1?-1:1),{spinX:R,spinY:O,pixelX:L,pixelY:T}}function f(){e.enabled&&(e.mouseEntered=!0)}function v(){e.enabled&&(e.mouseEntered=!1)}function g(m){return e.params.mousewheel.thresholdDelta&&m.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&ze()-a<e.params.mousewheel.thresholdTime?!1:m.delta>=6&&ze()-a<60?!0:(m.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",m.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",m.raw)),a=new s.Date().getTime(),!1)}function u(m){const w=e.params.mousewheel;if(m.direction<0){if(e.isEnd&&!e.params.loop&&w.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&w.releaseOnEdges)return!0;return!1}function h(m){let w=m,S=!0;if(!e.enabled||m.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const D=e.params.mousewheel;e.params.cssMode&&w.preventDefault();let R=e.el;e.params.mousewheel.eventsTarget!=="container"&&(R=document.querySelector(e.params.mousewheel.eventsTarget));const O=R&&R.contains(w.target);if(!e.mouseEntered&&!O&&!D.releaseOnEdges)return!0;w.originalEvent&&(w=w.originalEvent);let L=0;const T=e.rtlTranslate?-1:1,N=d(w);if(D.forceToAxis)if(e.isHorizontal())if(Math.abs(N.pixelX)>Math.abs(N.pixelY))L=-N.pixelX*T;else return!0;else if(Math.abs(N.pixelY)>Math.abs(N.pixelX))L=-N.pixelY;else return!0;else L=Math.abs(N.pixelX)>Math.abs(N.pixelY)?-N.pixelX*T:-N.pixelY;if(L===0)return!0;D.invert&&(L=-L);let C=e.getTranslate()+L*D.sensitivity;if(C>=e.minTranslate()&&(C=e.minTranslate()),C<=e.maxTranslate()&&(C=e.maxTranslate()),S=e.params.loop?!0:!(C===e.minTranslate()||C===e.maxTranslate()),S&&e.params.nested&&w.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const k={time:ze(),delta:Math.abs(L),direction:Math.sign(L),raw:m};l.length>=2&&l.shift();const I=l.length?l[l.length-1]:void 0;if(l.push(k),I?(k.direction!==I.direction||k.delta>I.delta||k.time>I.time+150)&&g(k):g(k),u(k))return!0}else{const k={time:ze(),delta:Math.abs(L),direction:Math.sign(L)},I=c&&k.time<c.time+500&&k.delta<=c.delta&&k.direction===c.direction;if(!I){c=void 0;let B=e.getTranslate()+L*D.sensitivity;const z=e.isBeginning,E=e.isEnd;if(B>=e.minTranslate()&&(B=e.minTranslate()),B<=e.maxTranslate()&&(B=e.maxTranslate()),e.setTransition(0),e.setTranslate(B),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!z&&e.isBeginning||!E&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:k.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,l.length>=15&&l.shift();const A=l.length?l[l.length-1]:void 0,H=l[0];if(l.push(k),A&&(k.delta>A.delta||k.direction!==A.direction))l.splice(0);else if(l.length>=15&&k.time-H.time<500&&H.delta-k.delta>=1&&k.delta<=6){const $=L>0?.8:.2;c=k,l.splice(0),o=Ot(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,$)},0)}o||(o=Ot(()=>{if(e.destroyed||!e.params)return;const $=.5;c=k,l.splice(0),e.slideToClosest(e.params.speed,!0,void 0,$)},500))}if(I||r("scroll",w),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),D.releaseOnEdges&&(B===e.minTranslate()||B===e.maxTranslate()))return!0}}return w.preventDefault?w.preventDefault():w.returnValue=!1,!1}function p(m){let w=e.el;e.params.mousewheel.eventsTarget!=="container"&&(w=document.querySelector(e.params.mousewheel.eventsTarget)),w[m]("mouseenter",f),w[m]("mouseleave",v),w[m]("wheel",h)}function y(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",h),!0):e.mousewheel.enabled?!1:(p("addEventListener"),e.mousewheel.enabled=!0,!0)}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,h),!0):e.mousewheel.enabled?(p("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&y()}),i("destroy",()=>{e.params.cssMode&&y(),e.mousewheel.enabled&&b()}),Object.assign(e.mousewheel,{enable:y,disable:b})}function Hr(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let s=ge(n.el,`.${i[r]}`)[0];s||(s=De("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function Sh(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(u){let h;return u&&typeof u=="string"&&e.isElement&&(h=e.el.querySelector(u)||e.hostEl.querySelector(u),h)?h:(u&&(typeof u=="string"&&(h=[...document.querySelectorAll(u)]),e.params.uniqueNavElements&&typeof u=="string"&&h&&h.length>1&&e.el.querySelectorAll(u).length===1?h=e.el.querySelector(u):h&&h.length===1&&(h=h[0])),u&&!h?u:h)}function o(u,h){const p=e.params.navigation;u=J(u),u.forEach(y=>{y&&(y.classList[h?"add":"remove"](...p.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=h),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](p.lockClass))})}function a(){const{nextEl:u,prevEl:h}=e.navigation;if(e.params.loop){o(h,!1),o(u,!1);return}o(h,e.isBeginning&&!e.params.rewind),o(u,e.isEnd&&!e.params.rewind)}function c(u){u.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function l(u){u.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const u=e.params.navigation;if(e.params.navigation=Hr(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(u.nextEl||u.prevEl))return;let h=s(u.nextEl),p=s(u.prevEl);Object.assign(e.navigation,{nextEl:h,prevEl:p}),h=J(h),p=J(p);const y=(b,m)=>{b&&b.addEventListener("click",m==="next"?l:c),!e.enabled&&b&&b.classList.add(...u.lockClass.split(" "))};h.forEach(b=>y(b,"next")),p.forEach(b=>y(b,"prev"))}function f(){let{nextEl:u,prevEl:h}=e.navigation;u=J(u),h=J(h);const p=(y,b)=>{y.removeEventListener("click",b==="next"?l:c),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};u.forEach(y=>p(y,"next")),h.forEach(y=>p(y,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{f()}),i("enable disable",()=>{let{nextEl:u,prevEl:h}=e.navigation;if(u=J(u),h=J(h),e.enabled){a();return}[...u,...h].filter(p=>!!p).forEach(p=>p.classList.add(e.params.navigation.lockClass))}),i("click",(u,h)=>{let{nextEl:p,prevEl:y}=e.navigation;p=J(p),y=J(y);const b=h.target;let m=y.includes(b)||p.includes(b);if(e.isElement&&!m){const w=h.path||h.composedPath&&h.composedPath();w&&(m=w.find(S=>p.includes(S)||y.includes(S)))}if(e.params.navigation.hideOnClick&&!m){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let w;p.length?w=p[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(w=y[0].classList.contains(e.params.navigation.hiddenClass)),r(w===!0?"navigationShow":"navigationHide"),[...p,...y].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const v=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:v,disable:g,update:a,init:d,destroy:f})}function ot(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Eh(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(b,m){const{bulletActiveClass:w}=e.params.pagination;b&&(b=b[`${m==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${w}-${m}`),b=b[`${m==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${w}-${m}-${m}`)))}function d(b,m,w){if(b=b%w,m=m%w,m===b+1)return"next";if(m===b-1)return"previous"}function f(b){const m=b.target.closest(ot(e.params.pagination.bulletClass));if(!m)return;b.preventDefault();const w=xi(m)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const S=d(e.realIndex,w,e.slides.length);S==="next"?e.slideNext():S==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function v(){const b=e.rtl,m=e.params.pagination;if(c())return;let w=e.pagination.el;w=J(w);let S,D;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(D=e.previousRealIndex||0,S=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(S=e.snapIndex,D=e.previousSnapIndex):(D=e.previousIndex||0,S=e.activeIndex||0),m.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const L=e.pagination.bullets;let T,N,C;if(m.dynamicBullets&&(o=Sr(L[0],e.isHorizontal()?"width":"height"),w.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${o*(m.dynamicMainBullets+4)}px`}),m.dynamicMainBullets>1&&D!==void 0&&(a+=S-(D||0),a>m.dynamicMainBullets-1?a=m.dynamicMainBullets-1:a<0&&(a=0)),T=Math.max(S-a,0),N=T+(Math.min(L.length,m.dynamicMainBullets)-1),C=(N+T)/2),L.forEach(k=>{const I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${m.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();k.classList.remove(...I)}),w.length>1)L.forEach(k=>{const I=xi(k);I===S?k.classList.add(...m.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),m.dynamicBullets&&(I>=T&&I<=N&&k.classList.add(...`${m.bulletActiveClass}-main`.split(" ")),I===T&&l(k,"prev"),I===N&&l(k,"next"))});else{const k=L[S];if(k&&k.classList.add(...m.bulletActiveClass.split(" ")),e.isElement&&L.forEach((I,B)=>{I.setAttribute("part",B===S?"bullet-active":"bullet")}),m.dynamicBullets){const I=L[T],B=L[N];for(let z=T;z<=N;z+=1)L[z]&&L[z].classList.add(...`${m.bulletActiveClass}-main`.split(" "));l(I,"prev"),l(B,"next")}}if(m.dynamicBullets){const k=Math.min(L.length,m.dynamicMainBullets+4),I=(o*k-o)/2-C*o,B=b?"right":"left";L.forEach(z=>{z.style[e.isHorizontal()?B:"top"]=`${I}px`})}}w.forEach((L,T)=>{if(m.type==="fraction"&&(L.querySelectorAll(ot(m.currentClass)).forEach(N=>{N.textContent=m.formatFractionCurrent(S+1)}),L.querySelectorAll(ot(m.totalClass)).forEach(N=>{N.textContent=m.formatFractionTotal(O)})),m.type==="progressbar"){let N;m.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const C=(S+1)/O;let k=1,I=1;N==="horizontal"?k=C:I=C,L.querySelectorAll(ot(m.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${I})`,B.style.transitionDuration=`${e.params.speed}ms`})}m.type==="custom"&&m.renderCustom?(L.innerHTML=m.renderCustom(e,S+1,O),T===0&&r("paginationRender",L)):(T===0&&r("paginationRender",L),r("paginationUpdate",L)),e.params.watchOverflow&&e.enabled&&L.classList[e.isLocked?"add":"remove"](m.lockClass)})}function g(){const b=e.params.pagination;if(c())return;const m=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=J(w);let S="";if(b.type==="bullets"){let D=e.params.loop?Math.ceil(m/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&D>m&&(D=m);for(let R=0;R<D;R+=1)b.renderBullet?S+=b.renderBullet.call(e,R,b.bulletClass):S+=`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?S=b.renderFraction.call(e,b.currentClass,b.totalClass):S=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?S=b.renderProgressbar.call(e,b.progressbarFillClass):S=`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(D=>{b.type!=="custom"&&(D.innerHTML=S||""),b.type==="bullets"&&e.pagination.bullets.push(...D.querySelectorAll(ot(b.bulletClass)))}),b.type!=="custom"&&r("paginationRender",w[0])}function u(){e.params.pagination=Hr(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let m;typeof b.el=="string"&&e.isElement&&(m=e.el.querySelector(b.el)),!m&&typeof b.el=="string"&&(m=[...document.querySelectorAll(b.el)]),m||(m=b.el),!(!m||m.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(m)&&m.length>1&&(m=[...e.el.querySelectorAll(b.el)],m.length>1&&(m=m.find(w=>Mt(w,".swiper")[0]===e.el))),Array.isArray(m)&&m.length===1&&(m=m[0]),Object.assign(e.pagination,{el:m}),m=J(m),m.forEach(w=>{b.type==="bullets"&&b.clickable&&w.classList.add(...(b.clickableClass||"").split(" ")),w.classList.add(b.modifierClass+b.type),w.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(w.classList.add(`${b.modifierClass}${b.type}-dynamic`),a=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&w.classList.add(b.progressbarOppositeClass),b.clickable&&w.addEventListener("click",f),e.enabled||w.classList.add(b.lockClass)}))}function h(){const b=e.params.pagination;if(c())return;let m=e.pagination.el;m&&(m=J(m),m.forEach(w=>{w.classList.remove(b.hiddenClass),w.classList.remove(b.modifierClass+b.type),w.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(w.classList.remove(...(b.clickableClass||"").split(" ")),w.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...b.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:m}=e.pagination;m=J(m),m.forEach(w=>{w.classList.remove(b.horizontalClass,b.verticalClass),w.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?y():(u(),g(),v())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&v()}),i("snapIndexChange",()=>{v()}),i("snapGridLengthChange",()=>{g(),v()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{el:b}=e.pagination;b&&(b=J(b),b.forEach(m=>m.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{v()}),i("click",(b,m)=>{const w=m.target,S=J(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&S&&S.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const D=S[0].classList.contains(e.params.pagination.hiddenClass);r(D===!0?"paginationShow":"paginationHide"),S.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const p=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=J(b),b.forEach(m=>m.classList.remove(e.params.pagination.paginationDisabledClass))),u(),g(),v()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=J(b),b.forEach(m=>m.classList.add(e.params.pagination.paginationDisabledClass))),h()};Object.assign(e.pagination,{enable:p,disable:y,render:g,update:v,init:u,destroy:h})}function Ah(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=me();let o=!1,a=null,c=null,l,d,f,v;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:C,rtlTranslate:k}=e,{dragEl:I,el:B}=C,z=e.params.scrollbar,E=e.params.loop?e.progressLoop:e.progress;let A=d,H=(f-d)*E;k?(H=-H,H>0?(A=d-H,H=0):-H+d>f&&(A=f+H)):H<0?(A=d+H,H=0):H+d>f&&(A=f-H),e.isHorizontal()?(I.style.transform=`translate3d(${H}px, 0, 0)`,I.style.width=`${A}px`):(I.style.transform=`translate3d(0px, ${H}px, 0)`,I.style.height=`${A}px`),z.hide&&(clearTimeout(a),B.style.opacity=1,a=setTimeout(()=>{B.style.opacity=0,B.style.transitionDuration="400ms"},1e3))}function u(C){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${C}ms`)}function h(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:C}=e,{dragEl:k,el:I}=C;k.style.width="",k.style.height="",f=e.isHorizontal()?I.offsetWidth:I.offsetHeight,v=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=f*v:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?k.style.width=`${d}px`:k.style.height=`${d}px`,v>=1?I.style.display="none":I.style.display="",e.params.scrollbar.hide&&(I.style.opacity=0),e.params.watchOverflow&&e.enabled&&C.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function p(C){return e.isHorizontal()?C.clientX:C.clientY}function y(C){const{scrollbar:k,rtlTranslate:I}=e,{el:B}=k;let z;z=(p(C)-Qi(B)[e.isHorizontal()?"left":"top"]-(l!==null?l:d/2))/(f-d),z=Math.max(Math.min(z,1),0),I&&(z=1-z);const E=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*z;e.updateProgress(E),e.setTranslate(E),e.updateActiveIndex(),e.updateSlidesClasses()}function b(C){const k=e.params.scrollbar,{scrollbar:I,wrapperEl:B}=e,{el:z,dragEl:E}=I;o=!0,l=C.target===E?p(C)-C.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,C.preventDefault(),C.stopPropagation(),B.style.transitionDuration="100ms",E.style.transitionDuration="100ms",y(C),clearTimeout(c),z.style.transitionDuration="0ms",k.hide&&(z.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",C)}function m(C){const{scrollbar:k,wrapperEl:I}=e,{el:B,dragEl:z}=k;o&&(C.preventDefault&&C.cancelable?C.preventDefault():C.returnValue=!1,y(C),I.style.transitionDuration="0ms",B.style.transitionDuration="0ms",z.style.transitionDuration="0ms",r("scrollbarDragMove",C))}function w(C){const k=e.params.scrollbar,{scrollbar:I,wrapperEl:B}=e,{el:z}=I;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",B.style.transitionDuration=""),k.hide&&(clearTimeout(c),c=Ot(()=>{z.style.opacity=0,z.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",C),k.snapOnRelease&&e.slideToClosest())}function S(C){const{scrollbar:k,params:I}=e,B=k.el;if(!B)return;const z=B,E=I.passiveListeners?{passive:!1,capture:!1}:!1,A=I.passiveListeners?{passive:!0,capture:!1}:!1;if(!z)return;const H=C==="on"?"addEventListener":"removeEventListener";z[H]("pointerdown",b,E),s[H]("pointermove",m,E),s[H]("pointerup",w,A)}function D(){!e.params.scrollbar.el||!e.scrollbar.el||S("on")}function R(){!e.params.scrollbar.el||!e.scrollbar.el||S("off")}function O(){const{scrollbar:C,el:k}=e;e.params.scrollbar=Hr(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const I=e.params.scrollbar;if(!I.el)return;let B;if(typeof I.el=="string"&&e.isElement&&(B=e.el.querySelector(I.el)),!B&&typeof I.el=="string"){if(B=s.querySelectorAll(I.el),!B.length)return}else B||(B=I.el);e.params.uniqueNavElements&&typeof I.el=="string"&&B.length>1&&k.querySelectorAll(I.el).length===1&&(B=k.querySelector(I.el)),B.length>0&&(B=B[0]),B.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass);let z;B&&(z=B.querySelector(ot(e.params.scrollbar.dragClass)),z||(z=De("div",e.params.scrollbar.dragClass),B.append(z))),Object.assign(C,{el:B,dragEl:z}),I.draggable&&D(),B&&B.classList[e.enabled?"remove":"add"](...ht(e.params.scrollbar.lockClass))}function L(){const C=e.params.scrollbar,k=e.scrollbar.el;k&&k.classList.remove(...ht(e.isHorizontal()?C.horizontalClass:C.verticalClass)),R()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const C=e.params.scrollbar;let{el:k}=e.scrollbar;k=J(k),k.forEach(I=>{I.classList.remove(C.horizontalClass,C.verticalClass),I.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?N():(O(),h(),g())}),i("update resize observerUpdate lock unlock changeDirection",()=>{h()}),i("setTranslate",()=>{g()}),i("setTransition",(C,k)=>{u(k)}),i("enable disable",()=>{const{el:C}=e.scrollbar;C&&C.classList[e.enabled?"remove":"add"](...ht(e.params.scrollbar.lockClass))}),i("destroy",()=>{L()});const T=()=>{e.el.classList.remove(...ht(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...ht(e.params.scrollbar.scrollbarDisabledClass)),O(),h(),g()},N=()=>{e.el.classList.add(...ht(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...ht(e.params.scrollbar.scrollbarDisabledClass)),L()};Object.assign(e.scrollbar,{enable:T,disable:N,updateSize:h,setTranslate:g,init:O,destroy:L})}function Th(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(c,l)=>{const{rtl:d}=e,f=d?-1:1,v=c.getAttribute("data-swiper-parallax")||"0";let g=c.getAttribute("data-swiper-parallax-x"),u=c.getAttribute("data-swiper-parallax-y");const h=c.getAttribute("data-swiper-parallax-scale"),p=c.getAttribute("data-swiper-parallax-opacity"),y=c.getAttribute("data-swiper-parallax-rotate");if(g||u?(g=g||"0",u=u||"0"):e.isHorizontal()?(g=v,u="0"):(u=v,g="0"),g.indexOf("%")>=0?g=`${parseInt(g,10)*l*f}%`:g=`${g*l*f}px`,u.indexOf("%")>=0?u=`${parseInt(u,10)*l}%`:u=`${u*l}px`,typeof p<"u"&&p!==null){const m=p-(p-1)*(1-Math.abs(l));c.style.opacity=m}let b=`translate3d(${g}, ${u}, 0px)`;if(typeof h<"u"&&h!==null){const m=h-(h-1)*(1-Math.abs(l));b+=` scale(${m})`}if(y&&typeof y<"u"&&y!==null){const m=y*l*-1;b+=` rotate(${m}deg)`}c.style.transform=b},o=()=>{const{el:c,slides:l,progress:d,snapGrid:f,isElement:v}=e,g=ge(c,r);e.isElement&&g.push(...ge(e.hostEl,r)),g.forEach(u=>{s(u,d)}),l.forEach((u,h)=>{let p=u.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(p+=Math.ceil(h/2)-d*(f.length-1)),p=Math.min(Math.max(p,-1),1),u.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(y=>{s(y,p)})})},a=function(c){c===void 0&&(c=e.params.speed);const{el:l,hostEl:d}=e,f=[...l.querySelectorAll(r)];e.isElement&&f.push(...d.querySelectorAll(r)),f.forEach(v=>{let g=parseInt(v.getAttribute("data-swiper-parallax-duration"),10)||c;c===0&&(g=0),v.style.transitionDuration=`${g}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(c,l)=>{e.params.parallax.enabled&&a(l)})}function Ch(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=ne();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,c=!1,l={x:0,y:0};const d=-3;let f,v;const g=[],u={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let y=1;Object.defineProperty(e.zoom,"scale",{get(){return y},set(F){if(y!==F){const P=u.imageEl,_=u.slideEl;r("zoomChange",F,P,_)}y=F}});function b(){if(g.length<2)return 1;const F=g[0].pageX,P=g[0].pageY,_=g[1].pageX,U=g[1].pageY;return Math.sqrt((_-F)**2+(U-P)**2)}function m(){const F=e.params.zoom,P=u.imageWrapEl.getAttribute("data-swiper-zoom")||F.maxRatio;if(F.limitToOriginalSize&&u.imageEl&&u.imageEl.naturalWidth){const _=u.imageEl.naturalWidth/u.imageEl.offsetWidth;return Math.min(_,P)}return P}function w(){if(g.length<2)return{x:null,y:null};const F=u.imageEl.getBoundingClientRect();return[(g[0].pageX+(g[1].pageX-g[0].pageX)/2-F.x-s.scrollX)/o,(g[0].pageY+(g[1].pageY-g[0].pageY)/2-F.y-s.scrollY)/o]}function S(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function D(F){const P=S();return!!(F.target.matches(P)||e.slides.filter(_=>_.contains(F.target)).length>0)}function R(F){const P=`.${e.params.zoom.containerClass}`;return!!(F.target.matches(P)||[...e.hostEl.querySelectorAll(P)].filter(_=>_.contains(F.target)).length>0)}function O(F){if(F.pointerType==="mouse"&&g.splice(0,g.length),!D(F))return;const P=e.params.zoom;if(f=!1,v=!1,g.push(F),!(g.length<2)){if(f=!0,u.scaleStart=b(),!u.slideEl){u.slideEl=F.target.closest(`.${e.params.slideClass}, swiper-slide`),u.slideEl||(u.slideEl=e.slides[e.activeIndex]);let _=u.slideEl.querySelector(`.${P.containerClass}`);if(_&&(_=_.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=_,_?u.imageWrapEl=Mt(u.imageEl,`.${P.containerClass}`)[0]:u.imageWrapEl=void 0,!u.imageWrapEl){u.imageEl=void 0;return}u.maxRatio=m()}if(u.imageEl){const[_,U]=w();u.originX=_,u.originY=U,u.imageEl.style.transitionDuration="0ms"}a=!0}}function L(F){if(!D(F))return;const P=e.params.zoom,_=e.zoom,U=g.findIndex(de=>de.pointerId===F.pointerId);U>=0&&(g[U]=F),!(g.length<2)&&(v=!0,u.scaleMove=b(),u.imageEl&&(_.scale=u.scaleMove/u.scaleStart*o,_.scale>u.maxRatio&&(_.scale=u.maxRatio-1+(_.scale-u.maxRatio+1)**.5),_.scale<P.minRatio&&(_.scale=P.minRatio+1-(P.minRatio-_.scale+1)**.5),u.imageEl.style.transform=`translate3d(0,0,0) scale(${_.scale})`))}function T(F){if(!D(F)||F.pointerType==="mouse"&&F.type==="pointerout")return;const P=e.params.zoom,_=e.zoom,U=g.findIndex(de=>de.pointerId===F.pointerId);U>=0&&g.splice(U,1),!(!f||!v)&&(f=!1,v=!1,u.imageEl&&(_.scale=Math.max(Math.min(_.scale,u.maxRatio),P.minRatio),u.imageEl.style.transitionDuration=`${e.params.speed}ms`,u.imageEl.style.transform=`translate3d(0,0,0) scale(${_.scale})`,o=_.scale,a=!1,_.scale>1&&u.slideEl?u.slideEl.classList.add(`${P.zoomedSlideClass}`):_.scale<=1&&u.slideEl&&u.slideEl.classList.remove(`${P.zoomedSlideClass}`),_.scale===1&&(u.originX=0,u.originY=0,u.slideEl=void 0)))}let N;function C(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function k(){clearTimeout(N),e.touchEventsData.preventTouchMoveFromPointerMove=!0,N=setTimeout(()=>{e.destroyed||C()})}function I(F){const P=e.device;if(!u.imageEl||h.isTouched)return;P.android&&F.cancelable&&F.preventDefault(),h.isTouched=!0;const _=g.length>0?g[0]:F;h.touchesStart.x=_.pageX,h.touchesStart.y=_.pageY}function B(F){const _=F.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!D(F)||!R(F))return;const U=e.zoom;if(!u.imageEl)return;if(!h.isTouched||!u.slideEl){_&&A(F);return}if(_){A(F);return}h.isMoved||(h.width=u.imageEl.offsetWidth||u.imageEl.clientWidth,h.height=u.imageEl.offsetHeight||u.imageEl.clientHeight,h.startX=xr(u.imageWrapEl,"x")||0,h.startY=xr(u.imageWrapEl,"y")||0,u.slideWidth=u.slideEl.offsetWidth,u.slideHeight=u.slideEl.offsetHeight,u.imageWrapEl.style.transitionDuration="0ms");const de=h.width*U.scale,Ne=h.height*U.scale;if(h.minX=Math.min(u.slideWidth/2-de/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-Ne/2,0),h.maxY=-h.minY,h.touchesCurrent.x=g.length>0?g[0].pageX:F.pageX,h.touchesCurrent.y=g.length>0?g[0].pageY:F.pageY,Math.max(Math.abs(h.touchesCurrent.x-h.touchesStart.x),Math.abs(h.touchesCurrent.y-h.touchesStart.y))>5&&(e.allowClick=!1),!h.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x)){h.isTouched=!1,C();return}if(!e.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y)){h.isTouched=!1,C();return}}F.cancelable&&F.preventDefault(),F.stopPropagation(),k(),h.isMoved=!0;const Be=(U.scale-o)/(u.maxRatio-e.params.zoom.minRatio),{originX:ye,originY:ce}=u;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX+Be*(h.width-ye*2),h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY+Be*(h.height-ce*2),h.currentX<h.minX&&(h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8),h.currentX>h.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentY<h.minY&&(h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8),h.currentY>h.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=h.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=h.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(h.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(h.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(h.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(h.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=h.touchesCurrent.x,p.prevPositionY=h.touchesCurrent.y,p.prevTime=Date.now(),u.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function z(){const F=e.zoom;if(g.length=0,!u.imageEl)return;if(!h.isTouched||!h.isMoved){h.isTouched=!1,h.isMoved=!1;return}h.isTouched=!1,h.isMoved=!1;let P=300,_=300;const U=p.x*P,de=h.currentX+U,Ne=p.y*_,He=h.currentY+Ne;p.x!==0&&(P=Math.abs((de-h.currentX)/p.x)),p.y!==0&&(_=Math.abs((He-h.currentY)/p.y));const Be=Math.max(P,_);h.currentX=de,h.currentY=He;const ye=h.width*F.scale,ce=h.height*F.scale;h.minX=Math.min(u.slideWidth/2-ye/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-ce/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),u.imageWrapEl.style.transitionDuration=`${Be}ms`,u.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function E(){const F=e.zoom;u.slideEl&&e.activeIndex!==e.slides.indexOf(u.slideEl)&&(u.imageEl&&(u.imageEl.style.transform="translate3d(0,0,0) scale(1)"),u.imageWrapEl&&(u.imageWrapEl.style.transform="translate3d(0,0,0)"),u.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),F.scale=1,o=1,u.slideEl=void 0,u.imageEl=void 0,u.imageWrapEl=void 0,u.originX=0,u.originY=0)}function A(F){if(o<=1||!u.imageWrapEl||!D(F)||!R(F))return;const P=s.getComputedStyle(u.imageWrapEl).transform,_=new s.DOMMatrix(P);if(!c){c=!0,l.x=F.clientX,l.y=F.clientY,h.startX=_.e,h.startY=_.f,h.width=u.imageEl.offsetWidth||u.imageEl.clientWidth,h.height=u.imageEl.offsetHeight||u.imageEl.clientHeight,u.slideWidth=u.slideEl.offsetWidth,u.slideHeight=u.slideEl.offsetHeight;return}const U=(F.clientX-l.x)*d,de=(F.clientY-l.y)*d,Ne=h.width*o,He=h.height*o,Be=u.slideWidth,ye=u.slideHeight,ce=Math.min(Be/2-Ne/2,0),he=-ce,Je=Math.min(ye/2-He/2,0),lt=-Je,Re=Math.max(Math.min(h.startX+U,he),ce),je=Math.max(Math.min(h.startY+de,lt),Je);u.imageWrapEl.style.transitionDuration="0ms",u.imageWrapEl.style.transform=`translate3d(${Re}px, ${je}px, 0)`,l.x=F.clientX,l.y=F.clientY,h.startX=Re,h.startY=je,h.currentX=Re,h.currentY=je}function H(F){const P=e.zoom,_=e.params.zoom;if(!u.slideEl){F&&F.target&&(u.slideEl=F.target.closest(`.${e.params.slideClass}, swiper-slide`)),u.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.slideEl=ge(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:u.slideEl=e.slides[e.activeIndex]);let ct=u.slideEl.querySelector(`.${_.containerClass}`);ct&&(ct=ct.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=ct,ct?u.imageWrapEl=Mt(u.imageEl,`.${_.containerClass}`)[0]:u.imageWrapEl=void 0}if(!u.imageEl||!u.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),u.slideEl.classList.add(`${_.zoomedSlideClass}`);let U,de,Ne,He,Be,ye,ce,he,Je,lt,Re,je,Ze,vt,zt,yt,Qe,qe;typeof h.touchesStart.x>"u"&&F?(U=F.pageX,de=F.pageY):(U=h.touchesStart.x,de=h.touchesStart.y);const Ue=o,et=typeof F=="number"?F:null;o===1&&et&&(U=void 0,de=void 0,h.touchesStart.x=void 0,h.touchesStart.y=void 0);const Jt=m();P.scale=et||Jt,o=et||Jt,F&&!(o===1&&et)?(Qe=u.slideEl.offsetWidth,qe=u.slideEl.offsetHeight,Ne=Qi(u.slideEl).left+s.scrollX,He=Qi(u.slideEl).top+s.scrollY,Be=Ne+Qe/2-U,ye=He+qe/2-de,Je=u.imageEl.offsetWidth||u.imageEl.clientWidth,lt=u.imageEl.offsetHeight||u.imageEl.clientHeight,Re=Je*P.scale,je=lt*P.scale,Ze=Math.min(Qe/2-Re/2,0),vt=Math.min(qe/2-je/2,0),zt=-Ze,yt=-vt,Ue>0&&et&&typeof h.currentX=="number"&&typeof h.currentY=="number"?(ce=h.currentX*P.scale/Ue,he=h.currentY*P.scale/Ue):(ce=Be*P.scale,he=ye*P.scale),ce<Ze&&(ce=Ze),ce>zt&&(ce=zt),he<vt&&(he=vt),he>yt&&(he=yt)):(ce=0,he=0),et&&P.scale===1&&(u.originX=0,u.originY=0),h.currentX=ce,h.currentY=he,u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform=`translate3d(${ce}px, ${he}px,0)`,u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform=`translate3d(0,0,0) scale(${P.scale})`}function $(){const F=e.zoom,P=e.params.zoom;if(!u.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.slideEl=ge(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:u.slideEl=e.slides[e.activeIndex];let _=u.slideEl.querySelector(`.${P.containerClass}`);_&&(_=_.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),u.imageEl=_,_?u.imageWrapEl=Mt(u.imageEl,`.${P.containerClass}`)[0]:u.imageWrapEl=void 0}!u.imageEl||!u.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),F.scale=1,o=1,h.currentX=void 0,h.currentY=void 0,h.touchesStart.x=void 0,h.touchesStart.y=void 0,u.imageWrapEl.style.transitionDuration="300ms",u.imageWrapEl.style.transform="translate3d(0,0,0)",u.imageEl.style.transitionDuration="300ms",u.imageEl.style.transform="translate3d(0,0,0) scale(1)",u.slideEl.classList.remove(`${P.zoomedSlideClass}`),u.slideEl=void 0,u.originX=0,u.originY=0,e.params.zoom.panOnMouseMove&&(l={x:0,y:0},c&&(c=!1,h.startX=0,h.startY=0)))}function te(F){const P=e.zoom;P.scale&&P.scale!==1?$():H(F)}function X(){const F=e.params.passiveListeners?{passive:!0,capture:!1}:!1,P=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:F,activeListenerWithCapture:P}}function Me(){const F=e.zoom;if(F.enabled)return;F.enabled=!0;const{passiveListener:P,activeListenerWithCapture:_}=X();e.wrapperEl.addEventListener("pointerdown",O,P),e.wrapperEl.addEventListener("pointermove",L,_),["pointerup","pointercancel","pointerout"].forEach(U=>{e.wrapperEl.addEventListener(U,T,P)}),e.wrapperEl.addEventListener("pointermove",B,_)}function re(){const F=e.zoom;if(!F.enabled)return;F.enabled=!1;const{passiveListener:P,activeListenerWithCapture:_}=X();e.wrapperEl.removeEventListener("pointerdown",O,P),e.wrapperEl.removeEventListener("pointermove",L,_),["pointerup","pointercancel","pointerout"].forEach(U=>{e.wrapperEl.removeEventListener(U,T,P)}),e.wrapperEl.removeEventListener("pointermove",B,_)}i("init",()=>{e.params.zoom.enabled&&Me()}),i("destroy",()=>{re()}),i("touchStart",(F,P)=>{e.zoom.enabled&&I(P)}),i("touchEnd",(F,P)=>{e.zoom.enabled&&z()}),i("doubleTap",(F,P)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&te(P)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&E()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&E()}),Object.assign(e.zoom,{enable:Me,disable:re,in:H,out:$,toggle:te})}function Lh(n){let{swiper:e,extendParams:t,on:i}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(l,d){const f=function(){let h,p,y;return(b,m)=>{for(p=-1,h=b.length;h-p>1;)y=h+p>>1,b[y]<=m?p=y:h=y;return h}}();this.x=l,this.y=d,this.lastIndex=l.length-1;let v,g;return this.interpolate=function(h){return h?(g=f(this.x,h),v=g-1,(h-this.x[v])*(this.y[g]-this.y[v])/(this.x[g]-this.x[v])+this.y[v]):0},this}function s(l){e.controller.spline=e.params.loop?new r(e.slidesGrid,l.slidesGrid):new r(e.snapGrid,l.snapGrid)}function o(l,d){const f=e.controller.control;let v,g;const u=e.constructor;function h(p){if(p.destroyed)return;const y=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(p),g=-e.controller.spline.interpolate(-y)),(!g||e.params.controller.by==="container")&&(v=(p.maxTranslate()-p.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(v)||!Number.isFinite(v))&&(v=1),g=(y-e.minTranslate())*v+p.minTranslate()),e.params.controller.inverse&&(g=p.maxTranslate()-g),p.updateProgress(g),p.setTranslate(g,e),p.updateActiveIndex(),p.updateSlidesClasses()}if(Array.isArray(f))for(let p=0;p<f.length;p+=1)f[p]!==d&&f[p]instanceof u&&h(f[p]);else f instanceof u&&d!==f&&h(f)}function a(l,d){const f=e.constructor,v=e.controller.control;let g;function u(h){h.destroyed||(h.setTransition(l,e),l!==0&&(h.transitionStart(),h.params.autoHeight&&Ot(()=>{h.updateAutoHeight()}),bi(h.wrapperEl,()=>{v&&h.transitionEnd()})))}if(Array.isArray(v))for(g=0;g<v.length;g+=1)v[g]!==d&&v[g]instanceof f&&u(v[g]);else v instanceof f&&d!==v&&u(v)}function c(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const f=`${e.params.eventsPrefix}init`,v=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(f,v)};d.addEventListener(f,v)}});return}e.controller.control=e.params.controller.control}),i("update",()=>{c()}),i("resize",()=>{c()}),i("observerUpdate",()=>{c()}),i("setTranslate",(l,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),i("setTransition",(l,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function Mh(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function c(E){const A=r;A.length!==0&&(A.innerHTML="",A.innerHTML=E)}function l(E){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(E).replace(/x/g,A)}function d(E){E=J(E),E.forEach(A=>{A.setAttribute("tabIndex","0")})}function f(E){E=J(E),E.forEach(A=>{A.setAttribute("tabIndex","-1")})}function v(E,A){E=J(E),E.forEach(H=>{H.setAttribute("role",A)})}function g(E,A){E=J(E),E.forEach(H=>{H.setAttribute("aria-roledescription",A)})}function u(E,A){E=J(E),E.forEach(H=>{H.setAttribute("aria-controls",A)})}function h(E,A){E=J(E),E.forEach(H=>{H.setAttribute("aria-label",A)})}function p(E,A){E=J(E),E.forEach(H=>{H.setAttribute("id",A)})}function y(E,A){E=J(E),E.forEach(H=>{H.setAttribute("aria-live",A)})}function b(E){E=J(E),E.forEach(A=>{A.setAttribute("aria-disabled",!0)})}function m(E){E=J(E),E.forEach(A=>{A.setAttribute("aria-disabled",!1)})}function w(E){if(E.keyCode!==13&&E.keyCode!==32)return;const A=e.params.a11y,H=E.target;if(!(e.pagination&&e.pagination.el&&(H===e.pagination.el||e.pagination.el.contains(E.target))&&!E.target.matches(ot(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const $=J(e.navigation.prevEl);J(e.navigation.nextEl).includes(H)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(A.lastSlideMessage):c(A.nextSlideMessage)),$.includes(H)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(A.firstSlideMessage):c(A.prevSlideMessage))}e.pagination&&H.matches(ot(e.params.pagination.bulletClass))&&H.click()}}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:E,prevEl:A}=e.navigation;A&&(e.isBeginning?(b(A),f(A)):(m(A),d(A))),E&&(e.isEnd?(b(E),f(E)):(m(E),d(E)))}function D(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function R(){return D()&&e.params.pagination.clickable}function O(){const E=e.params.a11y;D()&&e.pagination.bullets.forEach(A=>{e.params.pagination.clickable&&(d(A),e.params.pagination.renderBullet||(v(A,"button"),h(A,E.paginationBulletMessage.replace(/\{\{index\}\}/,xi(A)+1)))),A.matches(ot(e.params.pagination.bulletActiveClass))?A.setAttribute("aria-current","true"):A.removeAttribute("aria-current")})}const L=(E,A,H)=>{d(E),E.tagName!=="BUTTON"&&(v(E,"button"),E.addEventListener("keydown",w)),h(E,H),u(E,A)},T=E=>{o&&o!==E.target&&!o.contains(E.target)&&(s=!0),e.a11y.clicked=!0},N=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},C=E=>{a=new Date().getTime()},k=E=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const A=E.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!A||!e.slides.includes(A))return;o=A;const H=e.slides.indexOf(A)===e.activeIndex,$=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(A);H||$||E.sourceCapabilities&&E.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(A.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(A),0),s=!1)}))},I=()=>{const E=e.params.a11y;E.itemRoleDescriptionMessage&&g(e.slides,E.itemRoleDescriptionMessage),E.slideRole&&v(e.slides,E.slideRole);const A=e.slides.length;E.slideLabelMessage&&e.slides.forEach((H,$)=>{const te=e.params.loop?parseInt(H.getAttribute("data-swiper-slide-index"),10):$,X=E.slideLabelMessage.replace(/\{\{index\}\}/,te+1).replace(/\{\{slidesLength\}\}/,A);h(H,X)})},B=()=>{const E=e.params.a11y;e.el.append(r);const A=e.el;E.containerRoleDescriptionMessage&&g(A,E.containerRoleDescriptionMessage),E.containerMessage&&h(A,E.containerMessage),E.containerRole&&v(A,E.containerRole);const H=e.wrapperEl,$=E.id||H.getAttribute("id")||`swiper-wrapper-${l(16)}`,te=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";p(H,$),y(H,te),I();let{nextEl:X,prevEl:Me}=e.navigation?e.navigation:{};X=J(X),Me=J(Me),X&&X.forEach(F=>L(F,$,E.nextSlideMessage)),Me&&Me.forEach(F=>L(F,$,E.prevSlideMessage)),R()&&J(e.pagination.el).forEach(P=>{P.addEventListener("keydown",w)}),me().addEventListener("visibilitychange",C),e.el.addEventListener("focus",k,!0),e.el.addEventListener("focus",k,!0),e.el.addEventListener("pointerdown",T,!0),e.el.addEventListener("pointerup",N,!0)};function z(){r&&r.remove();let{nextEl:E,prevEl:A}=e.navigation?e.navigation:{};E=J(E),A=J(A),E&&E.forEach($=>$.removeEventListener("keydown",w)),A&&A.forEach($=>$.removeEventListener("keydown",w)),R()&&J(e.pagination.el).forEach(te=>{te.removeEventListener("keydown",w)}),me().removeEventListener("visibilitychange",C),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",k,!0),e.el.removeEventListener("pointerdown",T,!0),e.el.removeEventListener("pointerup",N,!0))}i("beforeInit",()=>{r=De("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&B()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&I()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&S()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&O()}),i("destroy",()=>{e.params.a11y.enabled&&z()})}function Rh(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=g=>g.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=g=>{const u=ne();let h;g?h=new URL(g):h=u.location;const p=h.pathname.slice(1).split("/").filter(w=>w!==""),y=p.length,b=p[y-2],m=p[y-1];return{key:b,value:m}},c=(g,u)=>{const h=ne();if(!r||!e.params.history.enabled)return;let p;e.params.url?p=new URL(e.params.url):p=h.location;const y=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${u}"]`):e.slides[u];let b=o(y.getAttribute("data-history"));if(e.params.history.root.length>0){let w=e.params.history.root;w[w.length-1]==="/"&&(w=w.slice(0,w.length-1)),b=`${w}/${g?`${g}/`:""}${b}`}else p.pathname.includes(g)||(b=`${g?`${g}/`:""}${b}`);e.params.history.keepQuery&&(b+=p.search);const m=h.history.state;m&&m.value===b||(e.params.history.replaceState?h.history.replaceState({value:b},null,b):h.history.pushState({value:b},null,b))},l=(g,u,h)=>{if(u)for(let p=0,y=e.slides.length;p<y;p+=1){const b=e.slides[p];if(o(b.getAttribute("data-history"))===u){const w=e.getSlideIndex(b);e.slideTo(w,g,h)}}else e.slideTo(0,g,h)},d=()=>{s=a(e.params.url),l(e.params.speed,s.value,!1)},f=()=>{const g=ne();if(e.params.history){if(!g.history||!g.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(r=!0,s=a(e.params.url),!s.key&&!s.value){e.params.history.replaceState||g.addEventListener("popstate",d);return}l(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||g.addEventListener("popstate",d)}},v=()=>{const g=ne();e.params.history.replaceState||g.removeEventListener("popstate",d)};i("init",()=>{e.params.history.enabled&&f()}),i("destroy",()=>{e.params.history.enabled&&v()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&c(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&c(e.params.history.key,e.activeIndex)})}function kh(n){let{swiper:e,extendParams:t,emit:i,on:r}=n,s=!1;const o=me(),a=ne();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(v,g){if(e.virtual&&e.params.virtual.enabled){const u=e.slides.find(p=>p.getAttribute("data-hash")===g);return u?parseInt(u.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(ge(e.slidesEl,`.${e.params.slideClass}[data-hash="${g}"], swiper-slide[data-hash="${g}"]`)[0])}}});const c=()=>{i("hashChange");const v=o.location.hash.replace("#",""),g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],u=g?g.getAttribute("data-hash"):"";if(v!==u){const h=e.params.hashNavigation.getSlideIndex(e,v);if(typeof h>"u"||Number.isNaN(h))return;e.slideTo(h)}},l=()=>{if(!s||!e.params.hashNavigation.enabled)return;const v=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],g=v?v.getAttribute("data-hash")||v.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${g}`||""),i("hashSet")):(o.location.hash=g||"",i("hashSet"))},d=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;const v=o.location.hash.replace("#","");if(v){const u=e.params.hashNavigation.getSlideIndex(e,v);e.slideTo(u||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",c)},f=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",c)};r("init",()=>{e.params.hashNavigation.enabled&&d()}),r("destroy",()=>{e.params.hashNavigation.enabled&&f()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&l()}),r("slideChange",()=>{s&&e.params.cssMode&&l()})}function Dh(n){let{swiper:e,extendParams:t,on:i,emit:r,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,c=s&&s.autoplay?s.autoplay.delay:3e3,l=s&&s.autoplay?s.autoplay.delay:3e3,d,f=new Date().getTime(),v,g,u,h,p,y,b;function m(A){!e||e.destroyed||!e.wrapperEl||A.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",m),!(b||A.detail&&A.detail.bySwiperTouchMove)&&T())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?v=!0:v&&(l=d,v=!1);const A=e.autoplay.paused?d:f+l-new Date().getTime();e.autoplay.timeLeft=A,r("autoplayTimeLeft",A,A/c),a=requestAnimationFrame(()=>{w()})},S=()=>{let A;return e.virtual&&e.params.virtual.enabled?A=e.slides.find($=>$.classList.contains("swiper-slide-active")):A=e.slides[e.activeIndex],A?parseInt(A.getAttribute("data-swiper-autoplay"),10):void 0},D=A=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),w();let H=typeof A>"u"?e.params.autoplay.delay:A;c=e.params.autoplay.delay,l=e.params.autoplay.delay;const $=S();!Number.isNaN($)&&$>0&&typeof A>"u"&&(H=$,c=$,l=$),d=H;const te=e.params.speed,X=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(te,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,te,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(te,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,te,!0,!0),r("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{D()})))};return H>0?(clearTimeout(o),o=setTimeout(()=>{X()},H)):requestAnimationFrame(()=>{X()}),H},R=()=>{f=new Date().getTime(),e.autoplay.running=!0,D(),r("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},L=(A,H)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),A||(y=!0);const $=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",m):T()};if(e.autoplay.paused=!0,H){p&&(d=e.params.autoplay.delay),p=!1,$();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),$())},T=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),y?(y=!1,D(d)):D(),e.autoplay.paused=!1,r("autoplayResume"))},N=()=>{if(e.destroyed||!e.autoplay.running)return;const A=me();A.visibilityState==="hidden"&&(y=!0,L(!0)),A.visibilityState==="visible"&&T()},C=A=>{A.pointerType==="mouse"&&(y=!0,b=!0,!(e.animating||e.autoplay.paused)&&L(!0))},k=A=>{A.pointerType==="mouse"&&(b=!1,e.autoplay.paused&&T())},I=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",k))},B=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",k))},z=()=>{me().addEventListener("visibilitychange",N)},E=()=>{me().removeEventListener("visibilitychange",N)};i("init",()=>{e.params.autoplay.enabled&&(I(),z(),R())}),i("destroy",()=>{B(),E(),e.autoplay.running&&O()}),i("_freeModeStaticRelease",()=>{(u||y)&&T()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():L(!0,!0)}),i("beforeTransitionStart",(A,H,$)=>{e.destroyed||!e.autoplay.running||($||!e.params.autoplay.disableOnInteraction?L(!0,!0):O())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}g=!0,u=!1,y=!1,h=setTimeout(()=>{y=!0,u=!0,L(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(h),clearTimeout(o),e.params.autoplay.disableOnInteraction){u=!1,g=!1;return}u&&e.params.cssMode&&T(),u=!1,g=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(p=!0)}),Object.assign(e.autoplay,{start:R,stop:O,pause:L,resume:T})}function Ph(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;e.thumbs={swiper:null};function o(){const l=e.thumbs.swiper;if(!l||l.destroyed)return;const d=l.clickedIndex,f=l.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let v;l.params.loop?v=parseInt(l.clickedSlide.getAttribute("data-swiper-slide-index"),10):v=d,e.params.loop?e.slideToLoop(v):e.slideTo(v)}function a(){const{thumbs:l}=e.params;if(r)return!1;r=!0;const d=e.constructor;if(l.swiper instanceof d){if(l.swiper.destroyed)return r=!1,!1;e.thumbs.swiper=l.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(li(l.swiper)){const f=Object.assign({},l.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(f),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function c(l){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const f=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView;let v=1;const g=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(v=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),d.slides.forEach(p=>p.classList.remove(g)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let p=0;p<v;p+=1)ge(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+p}"]`).forEach(y=>{y.classList.add(g)});else for(let p=0;p<v;p+=1)d.slides[e.realIndex+p]&&d.slides[e.realIndex+p].classList.add(g);const u=e.params.thumbs.autoScrollOffset,h=u&&!d.params.loop;if(e.realIndex!==d.realIndex||h){const p=d.activeIndex;let y,b;if(d.params.loop){const m=d.slides.find(w=>w.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);y=d.slides.indexOf(m),b=e.activeIndex>e.previousIndex?"next":"prev"}else y=e.realIndex,b=y>e.previousIndex?"next":"prev";h&&(y+=b==="next"?u:-1*u),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(y)<0&&(d.params.centeredSlides?y>p?y=y-Math.floor(f/2)+1:y=y+Math.floor(f/2)-1:y>p&&d.params.slidesPerGroup,d.slideTo(y,l?0:void 0))}}i("beforeInit",()=>{const{thumbs:l}=e.params;if(!(!l||!l.swiper))if(typeof l.swiper=="string"||l.swiper instanceof HTMLElement){const d=me(),f=()=>{const g=typeof l.swiper=="string"?d.querySelector(l.swiper):l.swiper;if(g&&g.swiper)l.swiper=g.swiper,a(),c(!0);else if(g){const u=`${e.params.eventsPrefix}init`,h=p=>{l.swiper=p.detail[0],g.removeEventListener(u,h),a(),c(!0),l.swiper.update(),e.update()};g.addEventListener(u,h)}return g},v=()=>{if(e.destroyed)return;f()||requestAnimationFrame(v)};requestAnimationFrame(v)}else a(),c(!0)}),i("slideChange update resize observerUpdate",()=>{c()}),i("setTransition",(l,d)=>{const f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(d)}),i("beforeDestroy",()=>{const l=e.thumbs.swiper;!l||l.destroyed||s&&l.destroy()}),Object.assign(e.thumbs,{init:a,update:c})}function Oh(n){let{swiper:e,extendParams:t,emit:i,once:r}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:c,touches:l}=e;c.velocities.length===0&&c.velocities.push({position:l[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:l[e.isHorizontal()?"currentX":"currentY"],time:ze()})}function a(c){let{currentPos:l}=c;if(e.params.cssMode)return;const{params:d,wrapperEl:f,rtlTranslate:v,snapGrid:g,touchEventsData:u}=e,p=ze()-u.touchStartTime;if(l<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(l>-e.maxTranslate()){e.slides.length<g.length?e.slideTo(g.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(u.velocities.length>1){const O=u.velocities.pop(),L=u.velocities.pop(),T=O.position-L.position,N=O.time-L.time;e.velocity=T/N,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(N>150||ze()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,u.velocities.length=0;let y=1e3*d.freeMode.momentumRatio;const b=e.velocity*y;let m=e.translate+b;v&&(m=-m);let w=!1,S;const D=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio;let R;if(m<e.maxTranslate())d.freeMode.momentumBounce?(m+e.maxTranslate()<-D&&(m=e.maxTranslate()-D),S=e.maxTranslate(),w=!0,u.allowMomentumBounce=!0):m=e.maxTranslate(),d.loop&&d.centeredSlides&&(R=!0);else if(m>e.minTranslate())d.freeMode.momentumBounce?(m-e.minTranslate()>D&&(m=e.minTranslate()+D),S=e.minTranslate(),w=!0,u.allowMomentumBounce=!0):m=e.minTranslate(),d.loop&&d.centeredSlides&&(R=!0);else if(d.freeMode.sticky){let O;for(let L=0;L<g.length;L+=1)if(g[L]>-m){O=L;break}Math.abs(g[O]-m)<Math.abs(g[O-1]-m)||e.swipeDirection==="next"?m=g[O]:m=g[O-1],m=-m}if(R&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(v?y=Math.abs((-m-e.translate)/e.velocity):y=Math.abs((m-e.translate)/e.velocity),d.freeMode.sticky){const O=Math.abs((v?-m:m)-e.translate),L=e.slidesSizesGrid[e.activeIndex];O<L?y=d.speed:O<2*L?y=d.speed*1.5:y=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&w?(e.updateProgress(S),e.setTransition(y),e.setTranslate(m),e.transitionStart(!0,e.swipeDirection),e.animating=!0,bi(f,()=>{!e||e.destroyed||!u.allowMomentumBounce||(i("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(S),bi(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(m),e.setTransition(y),e.setTranslate(m),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,bi(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(m),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&i("_freeModeNoMomentumRelease");(!d.freeMode.momentum||p>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function Ih(n){let{swiper:e,extendParams:t,on:i}=n;t({grid:{rows:1,fill:"column"}});let r,s,o,a;const c=()=>{let h=e.params.spaceBetween;return typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h)),h},l=h=>{const{slidesPerView:p}=e.params,{rows:y,fill:b}=e.params.grid,m=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:h.length;o=Math.floor(m/y),Math.floor(m/y)===m/y?r=m:r=Math.ceil(m/y)*y,p!=="auto"&&b==="row"&&(r=Math.max(r,p*y)),s=r/y},d=()=>{e.slides&&e.slides.forEach(h=>{h.swiperSlideGridSet&&(h.style.height="",h.style[e.getDirectionLabel("margin-top")]="")})},f=(h,p,y)=>{const{slidesPerGroup:b}=e.params,m=c(),{rows:w,fill:S}=e.params.grid,D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:y.length;let R,O,L;if(S==="row"&&b>1){const T=Math.floor(h/(b*w)),N=h-w*b*T,C=T===0?b:Math.min(Math.ceil((D-T*w*b)/w),b);L=Math.floor(N/C),O=N-L*C+T*b,R=O+L*r/w,p.style.order=R}else S==="column"?(O=Math.floor(h/w),L=h-O*w,(O>o||O===o&&L===w-1)&&(L+=1,L>=w&&(L=0,O+=1))):(L=Math.floor(h/s),O=h-L*s);p.row=L,p.column=O,p.style.height=`calc((100% - ${(w-1)*m}px) / ${w})`,p.style[e.getDirectionLabel("margin-top")]=L!==0?m&&`${m}px`:"",p.swiperSlideGridSet=!0},v=(h,p)=>{const{centeredSlides:y,roundLengths:b}=e.params,m=c(),{rows:w}=e.params.grid;if(e.virtualSize=(h+m)*r,e.virtualSize=Math.ceil(e.virtualSize/w)-m,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+m}px`),y){const S=[];for(let D=0;D<p.length;D+=1){let R=p[D];b&&(R=Math.floor(R)),p[D]<e.virtualSize+p[0]&&S.push(R)}p.splice(0,p.length),p.push(...S)}},g=()=>{a=e.params.grid&&e.params.grid.rows>1},u=()=>{const{params:h,el:p}=e,y=h.grid&&h.grid.rows>1;a&&!y?(p.classList.remove(`${h.containerModifierClass}grid`,`${h.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&y&&(p.classList.add(`${h.containerModifierClass}grid`),h.grid.fill==="column"&&p.classList.add(`${h.containerModifierClass}grid-column`),e.emitContainerClasses()),a=y};i("init",g),i("update",u),e.grid={initSlides:l,unsetSlides:d,updateSlide:f,updateWrapperSize:v}}function Nh(n){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const r=s=>{if(typeof s=="string"){const o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if(typeof n=="object"&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&r(n[s]);else r(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function Bh(n){const e=this,{params:t,activeIndex:i,slidesEl:r}=e;t.loop&&e.loopDestroy();let s=i+1;const o=a=>{if(typeof a=="string"){const c=document.createElement("div");c.innerHTML=a,r.prepend(c.children[0]),c.innerHTML=""}else r.prepend(a)};if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=i+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function Fh(n,e){const t=this,{params:i,activeIndex:r,slidesEl:s}=t;let o=r;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const a=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=a){t.appendSlide(e);return}let c=o>n?o+1:o;const l=[];for(let d=a-1;d>=n;d-=1){const f=t.slides[d];f.remove(),l.unshift(f)}if(typeof e=="object"&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&s.append(e[d]);c=o>n?o+e.length:o}else s.append(e);for(let d=0;d<l.length;d+=1)s.append(l[d]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),i.loop?t.slideTo(c+t.loopedSlides,0,!1):t.slideTo(c,0,!1)}function zh(n){const e=this,{params:t,activeIndex:i}=e;let r=i;t.loop&&(r-=e.loopedSlides,e.loopDestroy());let s=r,o;if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function _h(){const n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function Hh(n){let{swiper:e}=n;Object.assign(e,{appendSlide:Nh.bind(e),prependSlide:Bh.bind(e),addSlide:Fh.bind(e),removeSlide:zh.bind(e),removeAllSlides:_h.bind(e)})}function Kt(n){const{effect:e,swiper:t,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:c,getEffectParams:l}=n;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),i("setTranslate",()=>{t.params.effect===e&&r()}),i("setTransition",(f,v)=>{t.params.effect===e&&s(v)}),i("transitionEnd",()=>{if(t.params.effect===e&&c){if(!l||!l().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>v.remove())}),c()}});let d;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(r(),d=!1)}))})}function Ci(n,e){const t=Ft(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function fn(n){let{swiper:e,duration:t,transformElements:i,allSlides:r}=n;const{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.find(l=>l.shadowRoot&&l.shadowRoot===a.parentNode);if(e.params.virtualTranslate&&t!==0){let a=!1,c;r?c=i:c=i.filter(l=>{const d=l.classList.contains("swiper-slide-transform")?o(l):l;return e.getSlideIndex(d)===s}),c.forEach(l=>{bi(l,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function jh(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),Kt({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let c=0;c<o.length;c+=1){const l=e.slides[c];let f=-l.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let v=0;e.isHorizontal()||(v=f,f=0);const g=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(l.progress),0):1+Math.min(Math.max(l.progress,-1),0),u=Ci(a,l);u.style.opacity=g,u.style.transform=`translate3d(${f}px, ${v}px, 0px)`}},setTransition:o=>{const a=e.slides.map(c=>Ft(c));a.forEach(c=>{c.style.transitionDuration=`${o}ms`}),fn({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Wh(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(c,l,d)=>{let f=d?c.querySelector(".swiper-slide-shadow-left"):c.querySelector(".swiper-slide-shadow-top"),v=d?c.querySelector(".swiper-slide-shadow-right"):c.querySelector(".swiper-slide-shadow-bottom");f||(f=De("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),c.append(f)),v||(v=De("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),c.append(v)),f&&(f.style.opacity=Math.max(-l,0)),v&&(v.style.opacity=Math.max(l,0))};Kt({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:c,wrapperEl:l,slides:d,width:f,height:v,rtlTranslate:g,size:u,browser:h}=e,p=hn(e),y=e.params.cubeEffect,b=e.isHorizontal(),m=e.virtual&&e.params.virtual.enabled;let w=0,S;y.shadow&&(b?(S=e.wrapperEl.querySelector(".swiper-cube-shadow"),S||(S=De("div","swiper-cube-shadow"),e.wrapperEl.append(S)),S.style.height=`${f}px`):(S=c.querySelector(".swiper-cube-shadow"),S||(S=De("div","swiper-cube-shadow"),c.append(S))));for(let R=0;R<d.length;R+=1){const O=d[R];let L=R;m&&(L=parseInt(O.getAttribute("data-swiper-slide-index"),10));let T=L*90,N=Math.floor(T/360);g&&(T=-T,N=Math.floor(-T/360));const C=Math.max(Math.min(O.progress,1),-1);let k=0,I=0,B=0;L%4===0?(k=-N*4*u,B=0):(L-1)%4===0?(k=0,B=-N*4*u):(L-2)%4===0?(k=u+N*4*u,B=u):(L-3)%4===0&&(k=-u,B=3*u+u*4*N),g&&(k=-k),b||(I=k,k=0);const z=`rotateX(${p(b?0:-T)}deg) rotateY(${p(b?T:0)}deg) translate3d(${k}px, ${I}px, ${B}px)`;C<=1&&C>-1&&(w=L*90+C*90,g&&(w=-L*90-C*90)),O.style.transform=z,y.slideShadows&&r(O,C,b)}if(l.style.transformOrigin=`50% 50% -${u/2}px`,l.style["-webkit-transform-origin"]=`50% 50% -${u/2}px`,y.shadow)if(b)S.style.transform=`translate3d(0px, ${f/2+y.shadowOffset}px, ${-f/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${y.shadowScale})`;else{const R=Math.abs(w)-Math.floor(Math.abs(w)/90)*90,O=1.5-(Math.sin(R*2*Math.PI/360)/2+Math.cos(R*2*Math.PI/360)/2),L=y.shadowScale,T=y.shadowScale/O,N=y.shadowOffset;S.style.transform=`scale3d(${L}, 1, ${T}) translate3d(0px, ${v/2+N}px, ${-v/2/T}px) rotateX(-89.99deg)`}const D=(h.isSafari||h.isWebView)&&h.needPerspectiveFix?-u/2:0;l.style.transform=`translate3d(0px,0,${D}px) rotateX(${p(e.isHorizontal()?0:w)}deg) rotateY(${p(e.isHorizontal()?-w:0)}deg)`,l.style.setProperty("--swiper-cube-translate-z",`${D}px`)},setTransition:c=>{const{el:l,slides:d}=e;if(d.forEach(f=>{f.style.transitionDuration=`${c}ms`,f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>{v.style.transitionDuration=`${c}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const f=l.querySelector(".swiper-cube-shadow");f&&(f.style.transitionDuration=`${c}ms`)}},recreateShadows:()=>{const c=e.isHorizontal();e.slides.forEach(l=>{const d=Math.max(Math.min(l.progress,1),-1);r(l,d,c)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function qt(n,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=Ft(e);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=De("div",i.split(" ")),r.append(s)),s}function $h(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(c,l)=>{let d=e.isHorizontal()?c.querySelector(".swiper-slide-shadow-left"):c.querySelector(".swiper-slide-shadow-top"),f=e.isHorizontal()?c.querySelector(".swiper-slide-shadow-right"):c.querySelector(".swiper-slide-shadow-bottom");d||(d=qt("flip",c,e.isHorizontal()?"left":"top")),f||(f=qt("flip",c,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-l,0)),f&&(f.style.opacity=Math.max(l,0))};Kt({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:c,rtlTranslate:l}=e,d=e.params.flipEffect,f=hn(e);for(let v=0;v<c.length;v+=1){const g=c[v];let u=g.progress;e.params.flipEffect.limitRotation&&(u=Math.max(Math.min(g.progress,1),-1));const h=g.swiperSlideOffset;let y=-180*u,b=0,m=e.params.cssMode?-h-e.translate:-h,w=0;e.isHorizontal()?l&&(y=-y):(w=m,m=0,b=-y,y=0),g.style.zIndex=-Math.abs(Math.round(u))+c.length,d.slideShadows&&r(g,u);const S=`translate3d(${m}px, ${w}px, 0px) rotateX(${f(b)}deg) rotateY(${f(y)}deg)`,D=Ci(d,g);D.style.transform=S}},setTransition:c=>{const l=e.slides.map(d=>Ft(d));l.forEach(d=>{d.style.transitionDuration=`${c}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${c}ms`})}),fn({swiper:e,duration:c,transformElements:l})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(c=>{let l=c.progress;e.params.flipEffect.limitRotation&&(l=Math.max(Math.min(c.progress,1),-1)),r(c,l)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Vh(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Kt({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:c,slidesSizesGrid:l}=e,d=e.params.coverflowEffect,f=e.isHorizontal(),v=e.translate,g=f?-v+o/2:-v+a/2,u=f?d.rotate:-d.rotate,h=d.depth,p=hn(e);for(let y=0,b=c.length;y<b;y+=1){const m=c[y],w=l[y],S=m.swiperSlideOffset,D=(g-S-w/2)/w,R=typeof d.modifier=="function"?d.modifier(D):D*d.modifier;let O=f?u*R:0,L=f?0:u*R,T=-h*Math.abs(R),N=d.stretch;typeof N=="string"&&N.indexOf("%")!==-1&&(N=parseFloat(d.stretch)/100*w);let C=f?0:N*R,k=f?N*R:0,I=1-(1-d.scale)*Math.abs(R);Math.abs(k)<.001&&(k=0),Math.abs(C)<.001&&(C=0),Math.abs(T)<.001&&(T=0),Math.abs(O)<.001&&(O=0),Math.abs(L)<.001&&(L=0),Math.abs(I)<.001&&(I=0);const B=`translate3d(${k}px,${C}px,${T}px)  rotateX(${p(L)}deg) rotateY(${p(O)}deg) scale(${I})`,z=Ci(d,m);if(z.style.transform=B,m.style.zIndex=-Math.abs(Math.round(R))+1,d.slideShadows){let E=f?m.querySelector(".swiper-slide-shadow-left"):m.querySelector(".swiper-slide-shadow-top"),A=f?m.querySelector(".swiper-slide-shadow-right"):m.querySelector(".swiper-slide-shadow-bottom");E||(E=qt("coverflow",m,f?"left":"top")),A||(A=qt("coverflow",m,f?"right":"bottom")),E&&(E.style.opacity=R>0?R:0),A&&(A.style.opacity=-R>0?-R:0)}}},setTransition:o=>{e.slides.map(c=>Ft(c)).forEach(c=>{c.style.transitionDuration=`${o}ms`,c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(l=>{l.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function qh(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>typeof a=="string"?a:`${a}px`;Kt({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:c,slidesSizesGrid:l}=e,d=e.params.creativeEffect,{progressMultiplier:f}=d,v=e.params.centeredSlides,g=hn(e);if(v){const u=l[0]/2-e.params.slidesOffsetBefore||0;c.style.transform=`translateX(calc(50% - ${u}px))`}for(let u=0;u<a.length;u+=1){const h=a[u],p=h.progress,y=Math.min(Math.max(h.progress,-d.limitProgress),d.limitProgress);let b=y;v||(b=Math.min(Math.max(h.originalProgress,-d.limitProgress),d.limitProgress));const m=h.swiperSlideOffset,w=[e.params.cssMode?-m-e.translate:-m,0,0],S=[0,0,0];let D=!1;e.isHorizontal()||(w[1]=w[0],w[0]=0);let R={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};y<0?(R=d.next,D=!0):y>0&&(R=d.prev,D=!0),w.forEach((I,B)=>{w[B]=`calc(${I}px + (${r(R.translate[B])} * ${Math.abs(y*f)}))`}),S.forEach((I,B)=>{let z=R.rotate[B]*Math.abs(y*f);S[B]=z}),h.style.zIndex=-Math.abs(Math.round(p))+a.length;const O=w.join(", "),L=`rotateX(${g(S[0])}deg) rotateY(${g(S[1])}deg) rotateZ(${g(S[2])}deg)`,T=b<0?`scale(${1+(1-R.scale)*b*f})`:`scale(${1-(1-R.scale)*b*f})`,N=b<0?1+(1-R.opacity)*b*f:1-(1-R.opacity)*b*f,C=`translate3d(${O}) ${L} ${T}`;if(D&&R.shadow||!D){let I=h.querySelector(".swiper-slide-shadow");if(!I&&R.shadow&&(I=qt("creative",h)),I){const B=d.shadowPerProgress?y*(1/d.limitProgress):y;I.style.opacity=Math.min(Math.max(Math.abs(B),0),1)}}const k=Ci(d,h);k.style.transform=C,k.style.opacity=N,R.origin&&(k.style.transformOrigin=R.origin)}},setTransition:a=>{const c=e.slides.map(l=>Ft(l));c.forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),fn({swiper:e,duration:a,transformElements:c,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function Uh(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Kt({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:c}=e,l=e.params.cardsEffect,{startTranslate:d,isTouched:f}=e.touchEventsData,v=c?-e.translate:e.translate;for(let g=0;g<o.length;g+=1){const u=o[g],h=u.progress,p=Math.min(Math.max(h,-4),4);let y=u.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(y-=o[0].swiperSlideOffset);let b=e.params.cssMode?-y-e.translate:-y,m=0;const w=-100*Math.abs(p);let S=1,D=-l.perSlideRotate*p,R=l.perSlideOffset-Math.abs(p)*.75;const O=e.virtual&&e.params.virtual.enabled?e.virtual.from+g:g,L=(O===a||O===a-1)&&p>0&&p<1&&(f||e.params.cssMode)&&v<d,T=(O===a||O===a+1)&&p<0&&p>-1&&(f||e.params.cssMode)&&v>d;if(L||T){const I=(1-Math.abs((Math.abs(p)-.5)/.5))**.5;D+=-28*p*I,S+=-.5*I,R+=96*I,m=`${-25*I*Math.abs(p)}%`}if(p<0?b=`calc(${b}px ${c?"-":"+"} (${R*Math.abs(p)}%))`:p>0?b=`calc(${b}px ${c?"-":"+"} (-${R*Math.abs(p)}%))`:b=`${b}px`,!e.isHorizontal()){const I=m;m=b,b=I}const N=p<0?`${1+(1-S)*p}`:`${1-(1-S)*p}`,C=`
        translate3d(${b}, ${m}, ${w}px)
        rotateZ(${l.rotate?c?-D:D:0}deg)
        scale(${N})
      `;if(l.slideShadows){let I=u.querySelector(".swiper-slide-shadow");I||(I=qt("cards",u)),I&&(I.style.opacity=Math.min(Math.max((Math.abs(p)-.5)/.5,0),1))}u.style.zIndex=-Math.abs(Math.round(h))+o.length;const k=Ci(l,u);k.style.transform=C}},setTransition:o=>{const a=e.slides.map(c=>Ft(c));a.forEach(c=>{c.style.transitionDuration=`${o}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(l=>{l.style.transitionDuration=`${o}ms`})}),fn({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}const Gh=[yh,wh,xh,Sh,Eh,Ah,Th,Ch,Lh,Mh,Rh,kh,Dh,Ph,Oh,Ih,Hh,jh,Wh,$h,Vh,qh,Uh];Ce.use(Gh);function Ea(){new Ce(".swiperBlog",{loop:!0,autoplay:!0,slidesPerView:4,spaceBetween:10,freeMode:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:2,spaceBetween:10},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:4,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:25},pagination:{el:".swiper-pagination",clickable:!0,type:"progressbar"}}}),new Ce(".swiper",{effect:"flip",grabCursor:!0,loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},keyboard:{enabled:!0},autoplay:{delay:4500,disableOnInteraction:!1},flipEffect:{slideShadows:!0,limitRotation:!0}})}document.addEventListener("DOMContentLoaded",Ea);document.addEventListener("livewire:navigated",n=>{Ea()},{once:!0});
